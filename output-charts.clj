;; gorilla-repl.fileformat = 1

;; **
;;; # Gorilla REPL
;;; 
;;; Welcome to gorilla :-)
;;; 
;;; Shift + enter evaluates code. Hit ctrl+g twice in quick succession or click the menu icon (upper-right corner) for more commands ...
;;; 
;;; It's a good habit to run each worksheet in its own namespace: feel free to use the declaration we've provided below if you'd like.
;; **

;; @@
(ns solitary-aurora
  (:require [gorilla-plot.core :as plot]
            [witan.send.validate :refer :all]
            [gg4clj.core :as gg4clj]
            [clojure.string :as str]
            [witan.send.utils :as u]
            [kixi.stats.random :as r]
            [witan.send.params :as p]
            [witan.send.states :as s]
            [incanter.stats :as stat]
            [witan.send.test-utils :as tu]
            [witan.send.schemas :as sc]
            [schema.core :as schema]
            [clojure.core.matrix.dataset :as ds])
  (:import [org.HdrHistogram DoubleHistogram]))

(defn seq-of-maps->data-frame
  [coll]
  (when-let [x (first coll)]
    (let [ks (keys x)
          f (apply juxt ks)]
      (zipmap ks (apply map vector (map f coll))))))

(def setting->group
  (hash-map :OOE "Other"
:MMSIB "Mainstream"
:MU "Other"
:MMSOB "Mainstream"
:MSSOB "Special"
:EO "Other"
:EYS "Mainstream"
:MMSIB "Mainstream"
:MMSOB "Mainstream"
:MAP "Other"
:MSS "Special"
:FEC "Further education"
:IMS "Mainstream"
:ISS "Special"
:ISSR "Special"
:MMSIB "Mainstream"
:MU "Other"
:MMSOB "Mainstream"
:MUOB "Other"
:MMS "Mainstream"
:MSSIB "Special"
:MSSOP "Special"
:MSSR "Special"
:MSSOB "Special"
:NMSS "Special"
:NMSSR "Special"
:MAP "Other"
:FEC "Further education"
:FEC "Further education"
:EO "Other"
:NON-SEND "Other"))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;solitary-aurora/setting-&gt;group</span>","value":"#'solitary-aurora/setting->group"}
;; <=

;; @@

(defn gather-set-data [data]
  (->> (reduce (fn [coll {:keys [setting-1 setting-2]}]
                 (update coll [setting-1 setting-2] u/some+ 1))
               {}
               data)
       (mapcat (fn [i [[s1 s2] v]]
                  (vector {:id i :x "NCY 6" :y s1 :value v :setting s2}
                          {:id i :x "NCY 7" :y s2 :value v :setting s2}))
               (range))))

(defn sankey [{:keys [title] :or {title ""}} df]
  (gg4clj/view
    [[:require "ggforce"]
     [:<- :foo (gg4clj/data-frame df)]
     [:<- :palette [:c "#999999", "#E69F00", "#56B4E9", "#009E73", "#F0E442", "#0072B2", "#D55E00", "#CC79A7" "#1b9e77" "#d95f02" "#7570b3" "#e7298a"]]
     [:<- :palette [:c "#4ab276" "#4ab276" "#4ab276"  "#4ab276"  "#4ab276" ]]
     (gg4clj/r+ 
       [:ggplot :foo [:aes :x {:id :id :split [:factor :y] :value :value}]]
       [:scale_fill_manual {:values :palette}]
       [:geom_parallel_sets [:aes {:fill :setting}] {:alpha 0.5 :axis.width 0.1}]
       [:geom_parallel_sets_axes {:axis.width 0.2 :fill "#F6F6F6" :color "#DDDDDD"}]
       [:geom_parallel_sets_labels {:color "#444444" :angle 0 :size 2.5}]
       [:ggtitle title]
       [:theme {:axis.title.x [:element_blank]
                :legend.position "none"}])]))

(for [calendar-year [2014 2015 2016]]
  (->> (remove joiner? (get-transitions))
       (remove leaver?)
     (filter #(= (:calendar-year %) calendar-year))
     #_(filter #(= (:need-1 %) :CI))
     (filter #(= (:academic-year-1 %) 6))
     (map #(-> (update % :setting-1 setting->group) (update :setting-2 setting->group)))
     (gather-set-data)
     (seq-of-maps->data-frame)
     (sankey {:title (str "Aggregate setting transitions: " calendar-year "/" (apply str (drop 2 (str (inc calendar-year)))))})))
;; @@
;; =>
;;; {"type":"list-like","open":"<span class='clj-lazy-seq'>(</span>","close":"<span class='clj-lazy-seq'>)</span>","separator":" ","items":[{"type":"html","content":"<?xml version='1.0' encoding='UTF-8'?>\n<svg viewBox='0 0 468.00 289.25' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns='http://www.w3.org/2000/svg'>\n<defs>\n<style type='text/css'>\n\n    line, polyline, path, rect, circle {\n      fill: none;\n      stroke: #000000;\n      stroke-linecap: round;\n      stroke-linejoin: round;\n      stroke-miterlimit: 10.00;\n    }\n  \n</style>\n</defs>\n<rect style='stroke: none; fill: #FFFFFF;' height='100%' width='100%'/>\n<rect style='stroke-width: 1.07; stroke: #FFFFFF; fill: #FFFFFF;' height='289.25' width='468.00' y='0.00' x='0.00'/>\n<defs>\n<clipPath id='3e80c78d-e09f-4cf4-9304-b6f1a09719f1'>\n<rect height='248.50' width='437.09' y='23.90' x='25.43'/>\n</clipPath>\n</defs>\n<rect clip-path='url(#3e80c78d-e09f-4cf4-9304-b6f1a09719f1)' style='stroke-width: 1.07; stroke: none; fill: #EBEBEB;' height='248.50' width='437.09' y='23.90' x='25.43'/>\n<polyline clip-path='url(#3e80c78d-e09f-4cf4-9304-b6f1a09719f1)' style='stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;' points='25.43,226.64 462.52,226.64 '/>\n<polyline clip-path='url(#3e80c78d-e09f-4cf4-9304-b6f1a09719f1)' style='stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;' points='25.43,157.73 462.52,157.73 '/>\n<polyline clip-path='url(#3e80c78d-e09f-4cf4-9304-b6f1a09719f1)' style='stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;' points='25.43,88.81 462.52,88.81 '/>\n<polyline clip-path='url(#3e80c78d-e09f-4cf4-9304-b6f1a09719f1)' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' points='25.43,261.10 462.52,261.10 '/>\n<polyline clip-path='url(#3e80c78d-e09f-4cf4-9304-b6f1a09719f1)' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' points='25.43,192.19 462.52,192.19 '/>\n<polyline clip-path='url(#3e80c78d-e09f-4cf4-9304-b6f1a09719f1)' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' points='25.43,123.27 462.52,123.27 '/>\n<polyline clip-path='url(#3e80c78d-e09f-4cf4-9304-b6f1a09719f1)' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' points='25.43,54.35 462.52,54.35 '/>\n<polyline clip-path='url(#3e80c78d-e09f-4cf4-9304-b6f1a09719f1)' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' points='144.63,272.40 144.63,23.90 '/>\n<polyline clip-path='url(#3e80c78d-e09f-4cf4-9304-b6f1a09719f1)' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' points='343.31,272.40 343.31,23.90 '/>\n<polyline clip-path='url(#3e80c78d-e09f-4cf4-9304-b6f1a09719f1)' style='stroke-width: 1.07; stroke: none; fill: #4AB276; fill-opacity: 0.50;' points='154.57,261.10 157.25,261.10 159.88,261.10 162.45,261.10 164.98,261.10 167.45,261.10 169.88,261.10 172.26,261.10 174.59,261.10 176.87,261.10 179.11,261.10 181.30,261.10 183.46,261.10 185.57,261.10 187.64,261.10 189.67,261.10 191.67,261.10 193.62,261.10 195.54,261.10 197.43,261.10 199.28,261.10 201.10,261.10 202.89,261.10 204.65,261.10 206.38,261.10 208.08,261.10 209.75,261.10 211.40,261.10 213.02,261.10 214.62,261.10 216.19,261.10 217.75,261.10 219.28,261.10 220.79,261.10 222.29,261.10 223.77,261.10 225.23,261.10 226.68,261.10 228.12,261.10 229.54,261.10 230.95,261.10 232.35,261.10 233.74,261.10 235.12,261.10 236.49,261.10 237.86,261.10 239.22,261.10 240.58,261.10 241.94,261.10 243.30,261.10 244.65,261.10 246.01,261.10 247.36,261.10 248.72,261.10 250.09,261.10 251.45,261.10 252.83,261.10 254.21,261.10 255.60,261.10 257.00,261.10 258.41,261.10 259.83,261.10 261.27,261.10 262.71,261.10 264.18,261.10 265.66,261.10 267.15,261.10 268.67,261.10 270.20,261.10 271.76,261.10 273.33,261.10 274.93,261.10 276.55,261.10 278.20,261.10 279.87,261.10 281.57,261.10 283.30,261.10 285.06,261.10 286.85,261.10 288.67,261.10 290.52,261.10 292.40,261.10 294.33,261.10 296.28,261.10 298.28,261.10 300.31,261.10 302.38,261.10 304.49,261.10 306.64,261.10 308.84,261.10 311.08,261.10 313.36,261.10 315.69,261.10 318.07,261.10 320.49,261.10 322.97,261.10 325.49,261.10 328.07,261.10 330.70,261.10 333.38,261.10 333.38,148.08 330.70,148.08 328.07,148.08 325.49,148.08 322.97,148.08 320.49,148.08 318.07,148.08 315.69,148.08 313.36,148.08 311.08,148.08 308.84,148.08 306.64,148.08 304.49,148.08 302.38,148.08 300.31,148.08 298.28,148.08 296.28,148.08 294.33,148.08 292.40,148.08 290.52,148.08 288.67,148.08 286.85,148.08 285.06,148.08 283.30,148.08 281.57,148.08 279.87,148.08 278.20,148.08 276.55,148.08 274.93,148.08 273.33,148.08 271.76,148.08 270.20,148.08 268.67,148.08 267.15,148.08 265.66,148.08 264.18,148.08 262.71,148.08 261.27,148.08 259.83,148.08 258.41,148.08 257.00,148.08 255.60,148.08 254.21,148.08 252.83,148.08 251.45,148.08 250.09,148.08 248.72,148.08 247.36,148.08 246.01,148.08 244.65,148.08 243.30,148.08 241.94,148.08 240.58,148.08 239.22,148.08 237.86,148.08 236.49,148.08 235.12,148.08 233.74,148.08 232.35,148.08 230.95,148.08 229.54,148.08 228.12,148.08 226.68,148.08 225.23,148.08 223.77,148.08 222.29,148.08 220.79,148.08 219.28,148.08 217.75,148.08 216.19,148.08 214.62,148.08 213.02,148.08 211.40,148.08 209.75,148.08 208.08,148.08 206.38,148.08 204.65,148.08 202.89,148.08 201.10,148.08 199.28,148.08 197.43,148.08 195.54,148.08 193.62,148.08 191.67,148.08 189.67,148.08 187.64,148.08 185.57,148.08 183.46,148.08 181.30,148.08 179.11,148.08 176.87,148.08 174.59,148.08 172.26,148.08 169.88,148.08 167.45,148.08 164.98,148.08 162.45,148.08 159.88,148.08 157.25,148.08 154.57,148.08 '/>\n<polyline clip-path='url(#3e80c78d-e09f-4cf4-9304-b6f1a09719f1)' style='stroke-width: 1.07; stroke: none; fill: #4AB276; fill-opacity: 0.50;' points='154.57,124.03 157.25,124.03 159.88,124.06 162.45,124.09 164.98,124.14 167.45,124.21 169.88,124.28 172.26,124.37 174.59,124.47 176.87,124.59 179.11,124.71 181.30,124.85 183.46,125.00 185.57,125.16 187.64,125.33 189.67,125.52 191.67,125.71 193.62,125.91 195.54,126.12 197.43,126.34 199.28,126.58 201.10,126.81 202.89,127.06 204.65,127.32 206.38,127.58 208.08,127.85 209.75,128.13 211.40,128.42 213.02,128.71 214.62,129.01 216.19,129.31 217.75,129.63 219.28,129.94 220.79,130.26 222.29,130.59 223.77,130.92 225.23,131.26 226.68,131.59 228.12,131.94 229.54,132.28 230.95,132.63 232.35,132.99 233.74,133.34 235.12,133.70 236.49,134.06 237.86,134.42 239.22,134.78 240.58,135.14 241.94,135.51 243.30,135.87 244.65,136.24 246.01,136.60 247.36,136.96 248.72,137.33 250.09,137.69 251.45,138.05 252.83,138.41 254.21,138.77 255.60,139.12 257.00,139.47 258.41,139.82 259.83,140.17 261.27,140.51 262.71,140.85 264.18,141.19 265.66,141.52 267.15,141.84 268.67,142.16 270.20,142.48 271.76,142.79 273.33,143.10 274.93,143.40 276.55,143.69 278.20,143.97 279.87,144.25 281.57,144.52 283.30,144.79 285.06,145.04 286.85,145.29 288.67,145.53 290.52,145.76 292.40,145.98 294.33,146.20 296.28,146.40 298.28,146.59 300.31,146.77 302.38,146.94 304.49,147.10 306.64,147.25 308.84,147.39 311.08,147.52 313.36,147.63 315.69,147.74 318.07,147.82 320.49,147.90 322.97,147.96 325.49,148.01 328.07,148.05 330.70,148.07 333.38,148.08 333.38,137.05 330.70,137.05 328.07,137.02 325.49,136.99 322.97,136.94 320.49,136.87 318.07,136.80 315.69,136.71 313.36,136.61 311.08,136.49 308.84,136.37 306.64,136.23 304.49,136.08 302.38,135.92 300.31,135.75 298.28,135.56 296.28,135.37 294.33,135.17 292.40,134.96 290.52,134.73 288.67,134.50 286.85,134.26 285.06,134.02 283.30,133.76 281.57,133.50 279.87,133.23 278.20,132.95 276.55,132.66 274.93,132.37 273.33,132.07 271.76,131.77 270.20,131.45 268.67,131.14 267.15,130.82 265.66,130.49 264.18,130.16 262.71,129.82 261.27,129.49 259.83,129.14 258.41,128.80 257.00,128.45 255.60,128.09 254.21,127.74 252.83,127.38 251.45,127.02 250.09,126.66 248.72,126.30 247.36,125.94 246.01,125.57 244.65,125.21 243.30,124.84 241.94,124.48 240.58,124.12 239.22,123.75 237.86,123.39 236.49,123.03 235.12,122.67 233.74,122.31 232.35,121.96 230.95,121.61 229.54,121.26 228.12,120.91 226.68,120.57 225.23,120.23 223.77,119.89 222.29,119.56 220.79,119.24 219.28,118.91 217.75,118.60 216.19,118.29 214.62,117.98 213.02,117.68 211.40,117.39 209.75,117.11 208.08,116.83 206.38,116.56 204.65,116.29 202.89,116.04 201.10,115.79 199.28,115.55 197.43,115.32 195.54,115.10 193.62,114.88 191.67,114.68 189.67,114.49 187.64,114.31 185.57,114.14 183.46,113.98 181.30,113.83 179.11,113.69 176.87,113.56 174.59,113.45 172.26,113.34 169.88,113.25 167.45,113.18 164.98,113.12 162.45,113.07 159.88,113.03 157.25,113.01 154.57,113.00 '/>\n<polyline clip-path='url(#3e80c78d-e09f-4cf4-9304-b6f1a09719f1)' style='stroke-width: 1.07; stroke: none; fill: #4AB276; fill-opacity: 0.50;' points='154.57,95.84 157.25,95.85 159.88,95.89 162.45,95.95 164.98,96.04 167.45,96.15 169.88,96.28 172.26,96.43 174.59,96.60 176.87,96.80 179.11,97.02 181.30,97.25 183.46,97.51 185.57,97.79 187.64,98.08 189.67,98.39 191.67,98.72 193.62,99.07 195.54,99.43 197.43,99.81 199.28,100.21 201.10,100.62 202.89,101.04 204.65,101.48 206.38,101.93 208.08,102.40 209.75,102.87 211.40,103.36 213.02,103.87 214.62,104.38 216.19,104.90 217.75,105.43 219.28,105.97 220.79,106.53 222.29,107.08 223.77,107.65 225.23,108.23 226.68,108.81 228.12,109.39 229.54,109.99 230.95,110.59 232.35,111.19 233.74,111.80 235.12,112.41 236.49,113.03 237.86,113.64 239.22,114.26 240.58,114.89 241.94,115.51 243.30,116.13 244.65,116.76 246.01,117.38 247.36,118.01 248.72,118.63 250.09,119.25 251.45,119.87 252.83,120.48 254.21,121.09 255.60,121.70 257.00,122.31 258.41,122.90 259.83,123.50 261.27,124.09 262.71,124.67 264.18,125.24 265.66,125.81 267.15,126.37 268.67,126.92 270.20,127.46 271.76,127.99 273.33,128.52 274.93,129.03 276.55,129.53 278.20,130.02 279.87,130.50 281.57,130.96 283.30,131.41 285.06,131.85 286.85,132.28 288.67,132.69 290.52,133.08 292.40,133.46 294.33,133.82 296.28,134.17 298.28,134.50 300.31,134.81 302.38,135.11 304.49,135.38 306.64,135.64 308.84,135.88 311.08,136.09 313.36,136.29 315.69,136.46 318.07,136.62 320.49,136.75 322.97,136.86 325.49,136.94 328.07,137.00 330.70,137.04 333.38,137.05 333.38,132.92 330.70,132.90 328.07,132.87 325.49,132.81 322.97,132.72 320.49,132.61 318.07,132.48 315.69,132.33 313.36,132.15 311.08,131.96 308.84,131.74 306.64,131.50 304.49,131.25 302.38,130.97 300.31,130.68 298.28,130.37 296.28,130.04 294.33,129.69 292.40,129.33 290.52,128.95 288.67,128.55 286.85,128.14 285.06,127.72 283.30,127.28 281.57,126.83 279.87,126.36 278.20,125.88 276.55,125.39 274.93,124.89 273.33,124.38 271.76,123.86 270.20,123.33 268.67,122.78 267.15,122.23 265.66,121.67 264.18,121.11 262.71,120.53 261.27,119.95 259.83,119.36 258.41,118.77 257.00,118.17 255.60,117.57 254.21,116.96 252.83,116.35 251.45,115.73 250.09,115.11 248.72,114.49 247.36,113.87 246.01,113.25 244.65,112.62 243.30,112.00 241.94,111.38 240.58,110.75 239.22,110.13 237.86,109.51 236.49,108.89 235.12,108.28 233.74,107.66 232.35,107.06 230.95,106.45 229.54,105.85 228.12,105.26 226.68,104.67 225.23,104.09 223.77,103.52 222.29,102.95 220.79,102.39 219.28,101.84 217.75,101.30 216.19,100.77 214.62,100.24 213.02,99.73 211.40,99.23 209.75,98.74 208.08,98.26 206.38,97.80 204.65,97.35 202.89,96.91 201.10,96.48 199.28,96.07 197.43,95.68 195.54,95.30 193.62,94.93 191.67,94.59 189.67,94.26 187.64,93.94 185.57,93.65 183.46,93.38 181.30,93.12 179.11,92.88 176.87,92.67 174.59,92.47 172.26,92.29 169.88,92.14 167.45,92.01 164.98,91.90 162.45,91.82 159.88,91.76 157.25,91.72 154.57,91.71 '/>\n<polyline clip-path='url(#3e80c78d-e09f-4cf4-9304-b6f1a09719f1)' style='stroke-width: 1.07; stroke: none; fill: #4AB276; fill-opacity: 0.50;' points='154.57,148.08 157.25,148.07 159.88,148.05 162.45,148.01 164.98,147.96 167.45,147.89 169.88,147.81 172.26,147.72 174.59,147.61 176.87,147.49 179.11,147.35 181.30,147.21 183.46,147.05 185.57,146.88 187.64,146.70 189.67,146.50 191.67,146.30 193.62,146.09 195.54,145.86 197.43,145.63 199.28,145.38 201.10,145.13 202.89,144.87 204.65,144.60 206.38,144.32 208.08,144.03 209.75,143.74 211.40,143.44 213.02,143.13 214.62,142.81 216.19,142.49 217.75,142.16 219.28,141.83 220.79,141.49 222.29,141.14 223.77,140.79 225.23,140.44 226.68,140.08 228.12,139.72 229.54,139.35 230.95,138.98 232.35,138.61 233.74,138.23 235.12,137.85 236.49,137.47 237.86,137.09 239.22,136.71 240.58,136.33 241.94,135.94 243.30,135.56 244.65,135.17 246.01,134.79 247.36,134.40 248.72,134.02 250.09,133.63 251.45,133.25 252.83,132.87 254.21,132.50 255.60,132.12 257.00,131.75 258.41,131.38 259.83,131.01 261.27,130.65 262.71,130.29 264.18,129.94 265.66,129.59 267.15,129.24 268.67,128.90 270.20,128.57 271.76,128.24 273.33,127.92 274.93,127.60 276.55,127.29 278.20,126.99 279.87,126.69 281.57,126.41 283.30,126.13 285.06,125.86 286.85,125.60 288.67,125.34 290.52,125.10 292.40,124.87 294.33,124.64 296.28,124.43 298.28,124.22 300.31,124.03 302.38,123.85 304.49,123.68 306.64,123.52 308.84,123.37 311.08,123.24 313.36,123.12 315.69,123.01 318.07,122.92 320.49,122.84 322.97,122.77 325.49,122.72 328.07,122.68 330.70,122.66 333.38,122.65 333.38,121.27 330.70,121.28 328.07,121.30 325.49,121.34 322.97,121.39 320.49,121.46 318.07,121.54 315.69,121.63 313.36,121.74 311.08,121.86 308.84,122.00 306.64,122.14 304.49,122.30 302.38,122.47 300.31,122.65 298.28,122.85 296.28,123.05 294.33,123.26 292.40,123.49 290.52,123.72 288.67,123.96 286.85,124.22 285.06,124.48 283.30,124.75 281.57,125.03 279.87,125.32 278.20,125.61 276.55,125.91 274.93,126.22 273.33,126.54 271.76,126.86 270.20,127.19 268.67,127.52 267.15,127.86 265.66,128.21 264.18,128.56 262.71,128.91 261.27,129.27 259.83,129.63 258.41,130.00 257.00,130.37 255.60,130.74 254.21,131.12 252.83,131.50 251.45,131.88 250.09,132.26 248.72,132.64 247.36,133.02 246.01,133.41 244.65,133.79 243.30,134.18 241.94,134.56 240.58,134.95 239.22,135.33 237.86,135.71 236.49,136.10 235.12,136.48 233.74,136.85 232.35,137.23 230.95,137.60 229.54,137.97 228.12,138.34 226.68,138.70 225.23,139.06 223.77,139.41 222.29,139.76 220.79,140.11 219.28,140.45 217.75,140.78 216.19,141.11 214.62,141.43 213.02,141.75 211.40,142.06 209.75,142.36 208.08,142.65 206.38,142.94 204.65,143.22 202.89,143.49 201.10,143.75 199.28,144.01 197.43,144.25 195.54,144.48 193.62,144.71 191.67,144.92 189.67,145.13 187.64,145.32 185.57,145.50 183.46,145.67 181.30,145.83 179.11,145.97 176.87,146.11 174.59,146.23 172.26,146.34 169.88,146.43 167.45,146.51 164.98,146.58 162.45,146.63 159.88,146.67 157.25,146.69 154.57,146.70 '/>\n<polyline clip-path='url(#3e80c78d-e09f-4cf4-9304-b6f1a09719f1)' style='stroke-width: 1.07; stroke: none; fill: #4AB276; fill-opacity: 0.50;' points='154.57,113.00 157.25,113.00 159.88,113.01 162.45,113.02 164.98,113.04 167.45,113.06 169.88,113.09 172.26,113.12 174.59,113.15 176.87,113.19 179.11,113.24 181.30,113.28 183.46,113.34 185.57,113.39 187.64,113.45 189.67,113.51 191.67,113.58 193.62,113.65 195.54,113.72 197.43,113.80 199.28,113.88 201.10,113.96 202.89,114.04 204.65,114.13 206.38,114.22 208.08,114.32 209.75,114.41 211.40,114.51 213.02,114.61 214.62,114.71 216.19,114.82 217.75,114.93 219.28,115.03 220.79,115.14 222.29,115.26 223.77,115.37 225.23,115.49 226.68,115.60 228.12,115.72 229.54,115.84 230.95,115.96 232.35,116.08 233.74,116.20 235.12,116.33 236.49,116.45 237.86,116.57 239.22,116.70 240.58,116.82 241.94,116.95 243.30,117.07 244.65,117.20 246.01,117.32 247.36,117.45 248.72,117.57 250.09,117.70 251.45,117.82 252.83,117.95 254.21,118.07 255.60,118.19 257.00,118.31 258.41,118.43 259.83,118.55 261.27,118.67 262.71,118.79 264.18,118.90 265.66,119.01 267.15,119.13 268.67,119.24 270.20,119.35 271.76,119.45 273.33,119.56 274.93,119.66 276.55,119.76 278.20,119.86 279.87,119.95 281.57,120.05 283.30,120.14 285.06,120.23 286.85,120.31 288.67,120.39 290.52,120.47 292.40,120.55 294.33,120.62 296.28,120.69 298.28,120.76 300.31,120.82 302.38,120.88 304.49,120.94 306.64,120.99 308.84,121.03 311.08,121.08 313.36,121.12 315.69,121.15 318.07,121.18 320.49,121.21 322.97,121.23 325.49,121.25 328.07,121.26 330.70,121.27 333.38,121.27 333.38,115.76 330.70,115.75 328.07,115.75 325.49,115.73 322.97,115.72 320.49,115.70 318.07,115.67 315.69,115.64 313.36,115.60 311.08,115.56 308.84,115.52 306.64,115.47 304.49,115.42 302.38,115.37 300.31,115.31 298.28,115.25 296.28,115.18 294.33,115.11 292.40,115.04 290.52,114.96 288.67,114.88 286.85,114.80 285.06,114.71 283.30,114.63 281.57,114.53 279.87,114.44 278.20,114.35 276.55,114.25 274.93,114.15 273.33,114.04 271.76,113.94 270.20,113.83 268.67,113.72 267.15,113.61 265.66,113.50 264.18,113.39 262.71,113.27 261.27,113.16 259.83,113.04 258.41,112.92 257.00,112.80 255.60,112.68 254.21,112.55 252.83,112.43 251.45,112.31 250.09,112.18 248.72,112.06 247.36,111.94 246.01,111.81 244.65,111.68 243.30,111.56 241.94,111.43 240.58,111.31 239.22,111.18 237.86,111.06 236.49,110.94 235.12,110.81 233.74,110.69 232.35,110.57 230.95,110.45 229.54,110.33 228.12,110.21 226.68,110.09 225.23,109.97 223.77,109.86 222.29,109.74 220.79,109.63 219.28,109.52 217.75,109.41 216.19,109.31 214.62,109.20 213.02,109.10 211.40,109.00 209.75,108.90 208.08,108.80 206.38,108.71 204.65,108.62 202.89,108.53 201.10,108.45 199.28,108.36 197.43,108.28 195.54,108.21 193.62,108.14 191.67,108.07 189.67,108.00 187.64,107.94 185.57,107.88 183.46,107.82 181.30,107.77 179.11,107.72 176.87,107.68 174.59,107.64 172.26,107.61 169.88,107.57 167.45,107.55 164.98,107.53 162.45,107.51 159.88,107.50 157.25,107.49 154.57,107.49 '/>\n<polyline clip-path='url(#3e80c78d-e09f-4cf4-9304-b6f1a09719f1)' style='stroke-width: 1.07; stroke: none; fill: #4AB276; fill-opacity: 0.50;' points='154.57,91.71 157.25,91.71 159.88,91.73 162.45,91.77 164.98,91.82 167.45,91.88 169.88,91.96 172.26,92.05 174.59,92.15 176.87,92.27 179.11,92.39 181.30,92.53 183.46,92.68 185.57,92.84 187.64,93.01 189.67,93.19 191.67,93.39 193.62,93.59 195.54,93.80 197.43,94.02 199.28,94.25 201.10,94.49 202.89,94.74 204.65,95.00 206.38,95.26 208.08,95.53 209.75,95.81 211.40,96.10 213.02,96.39 214.62,96.69 216.19,96.99 217.75,97.30 219.28,97.62 220.79,97.94 222.29,98.27 223.77,98.60 225.23,98.93 226.68,99.27 228.12,99.62 229.54,99.96 230.95,100.31 232.35,100.66 233.74,101.02 235.12,101.38 236.49,101.74 237.86,102.10 239.22,102.46 240.58,102.82 241.94,103.18 243.30,103.55 244.65,103.91 246.01,104.28 247.36,104.64 248.72,105.00 250.09,105.37 251.45,105.73 252.83,106.09 254.21,106.44 255.60,106.80 257.00,107.15 258.41,107.50 259.83,107.85 261.27,108.19 262.71,108.53 264.18,108.86 265.66,109.20 267.15,109.52 268.67,109.84 270.20,110.16 271.76,110.47 273.33,110.77 274.93,111.07 276.55,111.37 278.20,111.65 279.87,111.93 281.57,112.20 283.30,112.47 285.06,112.72 286.85,112.97 288.67,113.21 290.52,113.44 292.40,113.66 294.33,113.87 296.28,114.08 298.28,114.27 300.31,114.45 302.38,114.62 304.49,114.78 306.64,114.93 308.84,115.07 311.08,115.20 313.36,115.31 315.69,115.41 318.07,115.50 320.49,115.58 322.97,115.64 325.49,115.69 328.07,115.73 330.70,115.75 333.38,115.76 333.38,114.38 330.70,114.37 328.07,114.35 325.49,114.31 322.97,114.26 320.49,114.20 318.07,114.12 315.69,114.04 313.36,113.93 311.08,113.82 308.84,113.69 306.64,113.55 304.49,113.40 302.38,113.24 300.31,113.07 298.28,112.89 296.28,112.70 294.33,112.49 292.40,112.28 290.52,112.06 288.67,111.83 286.85,111.59 285.06,111.34 283.30,111.09 281.57,110.82 279.87,110.55 278.20,110.27 276.55,109.99 274.93,109.70 273.33,109.40 271.76,109.09 270.20,108.78 268.67,108.46 267.15,108.14 265.66,107.82 264.18,107.49 262.71,107.15 261.27,106.81 259.83,106.47 258.41,106.12 257.00,105.77 255.60,105.42 254.21,105.07 252.83,104.71 251.45,104.35 250.09,103.99 248.72,103.63 247.36,103.26 246.01,102.90 244.65,102.54 243.30,102.17 241.94,101.81 240.58,101.44 239.22,101.08 237.86,100.72 236.49,100.36 235.12,100.00 233.74,99.64 232.35,99.29 230.95,98.93 229.54,98.58 228.12,98.24 226.68,97.89 225.23,97.56 223.77,97.22 222.29,96.89 220.79,96.56 219.28,96.24 217.75,95.93 216.19,95.61 214.62,95.31 213.02,95.01 211.40,94.72 209.75,94.43 208.08,94.15 206.38,93.88 204.65,93.62 202.89,93.36 201.10,93.11 199.28,92.88 197.43,92.64 195.54,92.42 193.62,92.21 191.67,92.01 189.67,91.82 187.64,91.63 185.57,91.46 183.46,91.30 181.30,91.15 179.11,91.01 176.87,90.89 174.59,90.77 172.26,90.67 169.88,90.58 167.45,90.50 164.98,90.44 162.45,90.39 159.88,90.36 157.25,90.33 154.57,90.33 '/>\n<polyline clip-path='url(#3e80c78d-e09f-4cf4-9304-b6f1a09719f1)' style='stroke-width: 1.07; stroke: none; fill: #4AB276; fill-opacity: 0.50;' points='154.57,146.70 157.25,146.69 159.88,146.65 162.45,146.59 164.98,146.50 167.45,146.39 169.88,146.25 172.26,146.09 174.59,145.91 176.87,145.71 179.11,145.48 181.30,145.24 183.46,144.98 185.57,144.69 187.64,144.39 189.67,144.06 191.67,143.72 193.62,143.36 195.54,142.99 197.43,142.60 199.28,142.19 201.10,141.76 202.89,141.33 204.65,140.87 206.38,140.41 208.08,139.92 209.75,139.43 211.40,138.93 213.02,138.41 214.62,137.88 216.19,137.34 217.75,136.79 219.28,136.23 220.79,135.66 222.29,135.08 223.77,134.49 225.23,133.90 226.68,133.30 228.12,132.69 229.54,132.08 230.95,131.46 232.35,130.84 233.74,130.21 235.12,129.58 236.49,128.94 237.86,128.30 239.22,127.66 240.58,127.02 241.94,126.37 243.30,125.73 244.65,125.08 246.01,124.44 247.36,123.79 248.72,123.15 250.09,122.51 251.45,121.87 252.83,121.24 254.21,120.60 255.60,119.97 257.00,119.35 258.41,118.73 259.83,118.12 261.27,117.51 262.71,116.91 264.18,116.32 265.66,115.73 267.15,115.15 268.67,114.58 270.20,114.02 271.76,113.47 273.33,112.93 274.93,112.40 276.55,111.89 278.20,111.38 279.87,110.89 281.57,110.41 283.30,109.94 285.06,109.49 286.85,109.05 288.67,108.62 290.52,108.21 292.40,107.82 294.33,107.45 296.28,107.09 298.28,106.75 300.31,106.42 302.38,106.12 304.49,105.84 306.64,105.57 308.84,105.33 311.08,105.10 313.36,104.90 315.69,104.72 318.07,104.56 320.49,104.43 322.97,104.31 325.49,104.23 328.07,104.16 330.70,104.12 333.38,104.11 333.38,91.71 330.70,91.72 328.07,91.76 325.49,91.82 322.97,91.91 320.49,92.02 318.07,92.16 315.69,92.31 313.36,92.49 311.08,92.70 308.84,92.92 306.64,93.17 304.49,93.43 302.38,93.72 300.31,94.02 298.28,94.34 296.28,94.68 294.33,95.04 292.40,95.42 290.52,95.81 288.67,96.22 286.85,96.64 285.06,97.08 283.30,97.53 281.57,98.00 279.87,98.48 278.20,98.98 276.55,99.48 274.93,100.00 273.33,100.53 271.76,101.07 270.20,101.62 268.67,102.18 267.15,102.75 265.66,103.33 264.18,103.91 262.71,104.50 261.27,105.11 259.83,105.71 258.41,106.33 257.00,106.95 255.60,107.57 254.21,108.20 252.83,108.83 251.45,109.47 250.09,110.10 248.72,110.75 247.36,111.39 246.01,112.03 244.65,112.68 243.30,113.32 241.94,113.97 240.58,114.61 239.22,115.26 237.86,115.90 236.49,116.54 235.12,117.17 233.74,117.80 232.35,118.43 230.95,119.06 229.54,119.67 228.12,120.29 226.68,120.90 225.23,121.50 223.77,122.09 222.29,122.68 220.79,123.25 219.28,123.82 217.75,124.38 216.19,124.93 214.62,125.47 213.02,126.00 211.40,126.52 209.75,127.03 208.08,127.52 206.38,128.00 204.65,128.47 202.89,128.92 201.10,129.36 199.28,129.78 197.43,130.19 195.54,130.58 193.62,130.96 191.67,131.32 189.67,131.66 187.64,131.98 185.57,132.29 183.46,132.57 181.30,132.84 179.11,133.08 176.87,133.30 174.59,133.51 172.26,133.69 169.88,133.85 167.45,133.98 164.98,134.09 162.45,134.18 159.88,134.24 157.25,134.28 154.57,134.30 '/>\n<polyline clip-path='url(#3e80c78d-e09f-4cf4-9304-b6f1a09719f1)' style='stroke-width: 1.07; stroke: none; fill: #4AB276; fill-opacity: 0.50;' points='154.57,107.49 157.25,107.48 159.88,107.47 162.45,107.44 164.98,107.41 167.45,107.37 169.88,107.32 172.26,107.26 174.59,107.19 176.87,107.12 179.11,107.04 181.30,106.95 183.46,106.85 185.57,106.74 187.64,106.63 189.67,106.51 191.67,106.38 193.62,106.25 195.54,106.11 197.43,105.97 199.28,105.82 201.10,105.66 202.89,105.50 204.65,105.33 206.38,105.15 208.08,104.98 209.75,104.79 211.40,104.61 213.02,104.41 214.62,104.22 216.19,104.02 217.75,103.81 219.28,103.61 220.79,103.40 222.29,103.18 223.77,102.96 225.23,102.74 226.68,102.52 228.12,102.30 229.54,102.07 230.95,101.84 232.35,101.61 233.74,101.38 235.12,101.14 236.49,100.91 237.86,100.67 239.22,100.43 240.58,100.19 241.94,99.95 243.30,99.72 244.65,99.48 246.01,99.24 247.36,99.00 248.72,98.76 250.09,98.52 251.45,98.29 252.83,98.05 254.21,97.82 255.60,97.58 257.00,97.35 258.41,97.12 259.83,96.90 261.27,96.67 262.71,96.45 264.18,96.23 265.66,96.01 267.15,95.80 268.67,95.59 270.20,95.38 271.76,95.17 273.33,94.97 274.93,94.78 276.55,94.59 278.20,94.40 279.87,94.22 281.57,94.04 283.30,93.87 285.06,93.70 286.85,93.53 288.67,93.38 290.52,93.23 292.40,93.08 294.33,92.94 296.28,92.81 298.28,92.68 300.31,92.56 302.38,92.45 304.49,92.34 306.64,92.25 308.84,92.16 311.08,92.07 313.36,92.00 315.69,91.93 318.07,91.87 320.49,91.82 322.97,91.78 325.49,91.75 328.07,91.72 330.70,91.71 333.38,91.71 333.38,90.33 330.70,90.33 328.07,90.35 325.49,90.37 322.97,90.40 320.49,90.44 318.07,90.49 315.69,90.55 313.36,90.62 311.08,90.69 308.84,90.78 306.64,90.87 304.49,90.97 302.38,91.07 300.31,91.18 298.28,91.30 296.28,91.43 294.33,91.56 292.40,91.70 290.52,91.85 288.67,92.00 286.85,92.16 285.06,92.32 283.30,92.49 281.57,92.66 279.87,92.84 278.20,93.02 276.55,93.21 274.93,93.40 273.33,93.60 271.76,93.80 270.20,94.00 268.67,94.21 267.15,94.42 265.66,94.63 264.18,94.85 262.71,95.07 261.27,95.29 259.83,95.52 258.41,95.74 257.00,95.97 255.60,96.21 254.21,96.44 252.83,96.67 251.45,96.91 250.09,97.14 248.72,97.38 247.36,97.62 246.01,97.86 244.65,98.10 243.30,98.34 241.94,98.58 240.58,98.82 239.22,99.05 237.86,99.29 236.49,99.53 235.12,99.76 233.74,100.00 232.35,100.23 230.95,100.46 229.54,100.69 228.12,100.92 226.68,101.14 225.23,101.37 223.77,101.59 222.29,101.80 220.79,102.02 219.28,102.23 217.75,102.44 216.19,102.64 214.62,102.84 213.02,103.04 211.40,103.23 209.75,103.42 208.08,103.60 206.38,103.78 204.65,103.95 202.89,104.12 201.10,104.28 199.28,104.44 197.43,104.59 195.54,104.73 193.62,104.87 191.67,105.01 189.67,105.13 187.64,105.25 185.57,105.36 183.46,105.47 181.30,105.57 179.11,105.66 176.87,105.74 174.59,105.82 172.26,105.88 169.88,105.94 167.45,105.99 164.98,106.03 162.45,106.07 159.88,106.09 157.25,106.10 154.57,106.11 '/>\n<polyline clip-path='url(#3e80c78d-e09f-4cf4-9304-b6f1a09719f1)' style='stroke-width: 1.07; stroke: none; fill: #4AB276; fill-opacity: 0.50;' points='154.57,90.33 157.25,90.33 159.88,90.33 162.45,90.33 164.98,90.33 167.45,90.33 169.88,90.33 172.26,90.33 174.59,90.33 176.87,90.33 179.11,90.33 181.30,90.33 183.46,90.33 185.57,90.33 187.64,90.33 189.67,90.33 191.67,90.33 193.62,90.33 195.54,90.33 197.43,90.33 199.28,90.33 201.10,90.33 202.89,90.33 204.65,90.33 206.38,90.33 208.08,90.33 209.75,90.33 211.40,90.33 213.02,90.33 214.62,90.33 216.19,90.33 217.75,90.33 219.28,90.33 220.79,90.33 222.29,90.33 223.77,90.33 225.23,90.33 226.68,90.33 228.12,90.33 229.54,90.33 230.95,90.33 232.35,90.33 233.74,90.33 235.12,90.33 236.49,90.33 237.86,90.33 239.22,90.33 240.58,90.33 241.94,90.33 243.30,90.33 244.65,90.33 246.01,90.33 247.36,90.33 248.72,90.33 250.09,90.33 251.45,90.33 252.83,90.33 254.21,90.33 255.60,90.33 257.00,90.33 258.41,90.33 259.83,90.33 261.27,90.33 262.71,90.33 264.18,90.33 265.66,90.33 267.15,90.33 268.67,90.33 270.20,90.33 271.76,90.33 273.33,90.33 274.93,90.33 276.55,90.33 278.20,90.33 279.87,90.33 281.57,90.33 283.30,90.33 285.06,90.33 286.85,90.33 288.67,90.33 290.52,90.33 292.40,90.33 294.33,90.33 296.28,90.33 298.28,90.33 300.31,90.33 302.38,90.33 304.49,90.33 306.64,90.33 308.84,90.33 311.08,90.33 313.36,90.33 315.69,90.33 318.07,90.33 320.49,90.33 322.97,90.33 325.49,90.33 328.07,90.33 330.70,90.33 333.38,90.33 333.38,35.19 330.70,35.19 328.07,35.19 325.49,35.19 322.97,35.19 320.49,35.19 318.07,35.19 315.69,35.19 313.36,35.19 311.08,35.19 308.84,35.19 306.64,35.19 304.49,35.19 302.38,35.19 300.31,35.19 298.28,35.19 296.28,35.19 294.33,35.19 292.40,35.19 290.52,35.19 288.67,35.19 286.85,35.19 285.06,35.19 283.30,35.19 281.57,35.19 279.87,35.19 278.20,35.19 276.55,35.19 274.93,35.19 273.33,35.19 271.76,35.19 270.20,35.19 268.67,35.19 267.15,35.19 265.66,35.19 264.18,35.19 262.71,35.19 261.27,35.19 259.83,35.19 258.41,35.19 257.00,35.19 255.60,35.19 254.21,35.19 252.83,35.19 251.45,35.19 250.09,35.19 248.72,35.19 247.36,35.19 246.01,35.19 244.65,35.19 243.30,35.19 241.94,35.19 240.58,35.19 239.22,35.19 237.86,35.19 236.49,35.19 235.12,35.19 233.74,35.19 232.35,35.19 230.95,35.19 229.54,35.19 228.12,35.19 226.68,35.19 225.23,35.19 223.77,35.19 222.29,35.19 220.79,35.19 219.28,35.19 217.75,35.19 216.19,35.19 214.62,35.19 213.02,35.19 211.40,35.19 209.75,35.19 208.08,35.19 206.38,35.19 204.65,35.19 202.89,35.19 201.10,35.19 199.28,35.19 197.43,35.19 195.54,35.19 193.62,35.19 191.67,35.19 189.67,35.19 187.64,35.19 185.57,35.19 183.46,35.19 181.30,35.19 179.11,35.19 176.87,35.19 174.59,35.19 172.26,35.19 169.88,35.19 167.45,35.19 164.98,35.19 162.45,35.19 159.88,35.19 157.25,35.19 154.57,35.19 '/>\n<polyline clip-path='url(#3e80c78d-e09f-4cf4-9304-b6f1a09719f1)' style='stroke-width: 1.07; stroke: #DDDDDD; fill: #F6F6F6;' points='124.77,261.10 164.50,261.10 164.50,134.30 124.77,134.30 '/>\n<polyline clip-path='url(#3e80c78d-e09f-4cf4-9304-b6f1a09719f1)' style='stroke-width: 1.07; stroke: #DDDDDD; fill: #F6F6F6;' points='124.77,124.03 164.50,124.03 164.50,106.11 124.77,106.11 '/>\n<polyline clip-path='url(#3e80c78d-e09f-4cf4-9304-b6f1a09719f1)' style='stroke-width: 1.07; stroke: #DDDDDD; fill: #F6F6F6;' points='124.77,95.84 164.50,95.84 164.50,35.19 124.77,35.19 '/>\n<polyline clip-path='url(#3e80c78d-e09f-4cf4-9304-b6f1a09719f1)' style='stroke-width: 1.07; stroke: #DDDDDD; fill: #F6F6F6;' points='323.45,261.10 363.18,261.10 363.18,132.92 323.45,132.92 '/>\n<polyline clip-path='url(#3e80c78d-e09f-4cf4-9304-b6f1a09719f1)' style='stroke-width: 1.07; stroke: #DDDDDD; fill: #F6F6F6;' points='323.45,122.65 363.18,122.65 363.18,114.38 323.45,114.38 '/>\n<polyline clip-path='url(#3e80c78d-e09f-4cf4-9304-b6f1a09719f1)' style='stroke-width: 1.07; stroke: #DDDDDD; fill: #F6F6F6;' points='323.45,104.11 363.18,104.11 363.18,35.19 323.45,35.19 '/>\n<g clip-path='url(#3e80c78d-e09f-4cf4-9304-b6f1a09719f1)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='36.57px' style='font-size: 7.11px; fill: #444444; font-family: Arial;' y='200.21' x='126.35'>\nMainstream\n</text>\n</g>\n<g clip-path='url(#3e80c78d-e09f-4cf4-9304-b6f1a09719f1)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='17.51px' style='font-size: 7.11px; fill: #444444; font-family: Arial;' y='117.58' x='135.88'>\nOther\n</text>\n</g>\n<g clip-path='url(#3e80c78d-e09f-4cf4-9304-b6f1a09719f1)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='22.96px' style='font-size: 7.11px; fill: #444444; font-family: Arial;' y='68.03' x='133.16'>\nSpecial\n</text>\n</g>\n<g clip-path='url(#3e80c78d-e09f-4cf4-9304-b6f1a09719f1)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='36.57px' style='font-size: 7.11px; fill: #444444; font-family: Arial;' y='199.52' x='325.03'>\nMainstream\n</text>\n</g>\n<g clip-path='url(#3e80c78d-e09f-4cf4-9304-b6f1a09719f1)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='17.51px' style='font-size: 7.11px; fill: #444444; font-family: Arial;' y='121.02' x='334.56'>\nOther\n</text>\n</g>\n<g clip-path='url(#3e80c78d-e09f-4cf4-9304-b6f1a09719f1)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='22.96px' style='font-size: 7.11px; fill: #444444; font-family: Arial;' y='72.16' x='331.83'>\nSpecial\n</text>\n</g>\n<defs>\n<clipPath id='d665eac2-f68b-4f77-b634-5afdbd2f6f35'>\n<rect height='289.25' width='468.00' y='0.00' x='0.00'/>\n</clipPath>\n</defs>\n<g clip-path='url(#d665eac2-f68b-4f77-b634-5afdbd2f6f35)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='5.01px' style='font-size: 8.80px; fill: #4D4D4D; font-family: Arial;' y='264.32' x='15.49'>\n0\n</text>\n</g>\n<g clip-path='url(#d665eac2-f68b-4f77-b634-5afdbd2f6f35)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='10.01px' style='font-size: 8.80px; fill: #4D4D4D; font-family: Arial;' y='195.40' x='10.48'>\n50\n</text>\n</g>\n<g clip-path='url(#d665eac2-f68b-4f77-b634-5afdbd2f6f35)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='15.02px' style='font-size: 8.80px; fill: #4D4D4D; font-family: Arial;' y='126.49' x='5.48'>\n100\n</text>\n</g>\n<g clip-path='url(#d665eac2-f68b-4f77-b634-5afdbd2f6f35)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='15.02px' style='font-size: 8.80px; fill: #4D4D4D; font-family: Arial;' y='57.57' x='5.48'>\n150\n</text>\n</g>\n<polyline clip-path='url(#d665eac2-f68b-4f77-b634-5afdbd2f6f35)' style='stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;' points='22.69,261.10 25.43,261.10 '/>\n<polyline clip-path='url(#d665eac2-f68b-4f77-b634-5afdbd2f6f35)' style='stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;' points='22.69,192.19 25.43,192.19 '/>\n<polyline clip-path='url(#d665eac2-f68b-4f77-b634-5afdbd2f6f35)' style='stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;' points='22.69,123.27 25.43,123.27 '/>\n<polyline clip-path='url(#d665eac2-f68b-4f77-b634-5afdbd2f6f35)' style='stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;' points='22.69,54.35 25.43,54.35 '/>\n<polyline clip-path='url(#d665eac2-f68b-4f77-b634-5afdbd2f6f35)' style='stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;' points='144.63,275.14 144.63,272.40 '/>\n<polyline clip-path='url(#d665eac2-f68b-4f77-b634-5afdbd2f6f35)' style='stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;' points='343.31,275.14 343.31,272.40 '/>\n<g clip-path='url(#d665eac2-f68b-4f77-b634-5afdbd2f6f35)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='26.51px' style='font-size: 8.80px; fill: #4D4D4D; font-family: Arial;' y='283.77' x='131.38'>\nNCY 6\n</text>\n</g>\n<g clip-path='url(#d665eac2-f68b-4f77-b634-5afdbd2f6f35)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='26.51px' style='font-size: 8.80px; fill: #4D4D4D; font-family: Arial;' y='283.77' x='330.06'>\nNCY 7\n</text>\n</g>\n<g clip-path='url(#d665eac2-f68b-4f77-b634-5afdbd2f6f35)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='218.98px' style='font-size: 13.20px; font-family: Arial;' y='14.79' x='25.43'>\nAggregate setting transitions: 2014/15\n</text>\n</g>\n</svg>\n","value":"#gg4clj.core.GGView{:plot-command [[:require \"ggforce\"] [:<- :foo [:data.frame {:y [:c \"Mainstream\" \"Mainstream\" \"Special\" \"Special\" \"Other\" \"Mainstream\" \"Mainstream\" \"Special\" \"Other\" \"Special\" \"Mainstream\" \"Other\" \"Special\" \"Mainstream\" \"Other\" \"Other\" \"Special\" \"Other\"], :value [:c 82 82 40 40 8 8 9 9 1 1 1 1 3 3 4 4 1 1], :setting [:c \"Mainstream\" \"Mainstream\" \"Special\" \"Special\" \"Mainstream\" \"Mainstream\" \"Special\" \"Special\" \"Special\" \"Special\" \"Other\" \"Other\" \"Mainstream\" \"Mainstream\" \"Other\" \"Other\" \"Other\" \"Other\"], :id [:c 0 0 1 1 2 2 3 3 4 4 5 5 6 6 7 7 8 8], :x [:c \"NCY 6\" \"NCY 7\" \"NCY 6\" \"NCY 7\" \"NCY 6\" \"NCY 7\" \"NCY 6\" \"NCY 7\" \"NCY 6\" \"NCY 7\" \"NCY 6\" \"NCY 7\" \"NCY 6\" \"NCY 7\" \"NCY 6\" \"NCY 7\" \"NCY 6\" \"NCY 7\"]}]] [:<- :palette [:c \"#999999\" \"#E69F00\" \"#56B4E9\" \"#009E73\" \"#F0E442\" \"#0072B2\" \"#D55E00\" \"#CC79A7\" \"#1b9e77\" \"#d95f02\" \"#7570b3\" \"#e7298a\"]] [:<- :palette [:c \"#4ab276\" \"#4ab276\" \"#4ab276\" \"#4ab276\" \"#4ab276\"]] [:+ [:+ [:+ [:+ [:+ [:+ [:ggplot :foo [:aes :x {:id :id, :split [:factor :y], :value :value}]] [:scale_fill_manual {:values :palette}]] [:geom_parallel_sets [:aes {:fill :setting}] {:alpha 0.5, :axis.width 0.1}]] [:geom_parallel_sets_axes {:axis.width 0.2, :fill \"#F6F6F6\", :color \"#DDDDDD\"}]] [:geom_parallel_sets_labels {:color \"#444444\", :angle 0, :size 2.5}]] [:ggtitle \"Aggregate setting transitions: 2014/15\"]] [:theme {:axis.title.x [:element_blank], :legend.position \"none\"}]]], :options {}}"},{"type":"html","content":"<?xml version='1.0' encoding='UTF-8'?>\n<svg viewBox='0 0 468.00 289.25' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns='http://www.w3.org/2000/svg'>\n<defs>\n<style type='text/css'>\n\n    line, polyline, path, rect, circle {\n      fill: none;\n      stroke: #000000;\n      stroke-linecap: round;\n      stroke-linejoin: round;\n      stroke-miterlimit: 10.00;\n    }\n  \n</style>\n</defs>\n<rect style='stroke: none; fill: #FFFFFF;' height='100%' width='100%'/>\n<rect style='stroke-width: 1.07; stroke: #FFFFFF; fill: #FFFFFF;' height='289.25' width='468.00' y='0.00' x='0.00'/>\n<defs>\n<clipPath id='7df19e82-b10b-4dd8-b15a-2860424ee369'>\n<rect height='248.50' width='437.09' y='23.90' x='25.43'/>\n</clipPath>\n</defs>\n<rect clip-path='url(#7df19e82-b10b-4dd8-b15a-2860424ee369)' style='stroke-width: 1.07; stroke: none; fill: #EBEBEB;' height='248.50' width='437.09' y='23.90' x='25.43'/>\n<polyline clip-path='url(#7df19e82-b10b-4dd8-b15a-2860424ee369)' style='stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;' points='25.43,224.16 462.52,224.16 '/>\n<polyline clip-path='url(#7df19e82-b10b-4dd8-b15a-2860424ee369)' style='stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;' points='25.43,150.29 462.52,150.29 '/>\n<polyline clip-path='url(#7df19e82-b10b-4dd8-b15a-2860424ee369)' style='stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;' points='25.43,76.42 462.52,76.42 '/>\n<polyline clip-path='url(#7df19e82-b10b-4dd8-b15a-2860424ee369)' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' points='25.43,261.10 462.52,261.10 '/>\n<polyline clip-path='url(#7df19e82-b10b-4dd8-b15a-2860424ee369)' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' points='25.43,187.23 462.52,187.23 '/>\n<polyline clip-path='url(#7df19e82-b10b-4dd8-b15a-2860424ee369)' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' points='25.43,113.35 462.52,113.35 '/>\n<polyline clip-path='url(#7df19e82-b10b-4dd8-b15a-2860424ee369)' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' points='25.43,39.48 462.52,39.48 '/>\n<polyline clip-path='url(#7df19e82-b10b-4dd8-b15a-2860424ee369)' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' points='144.63,272.40 144.63,23.90 '/>\n<polyline clip-path='url(#7df19e82-b10b-4dd8-b15a-2860424ee369)' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' points='343.31,272.40 343.31,23.90 '/>\n<polyline clip-path='url(#7df19e82-b10b-4dd8-b15a-2860424ee369)' style='stroke-width: 1.07; stroke: none; fill: #4AB276; fill-opacity: 0.50;' points='154.57,261.10 157.25,261.10 159.88,261.10 162.45,261.10 164.98,261.10 167.45,261.10 169.88,261.10 172.26,261.10 174.59,261.10 176.87,261.10 179.11,261.10 181.30,261.10 183.46,261.10 185.57,261.10 187.64,261.10 189.67,261.10 191.67,261.10 193.62,261.10 195.54,261.10 197.43,261.10 199.28,261.10 201.10,261.10 202.89,261.10 204.65,261.10 206.38,261.10 208.08,261.10 209.75,261.10 211.40,261.10 213.02,261.10 214.62,261.10 216.19,261.10 217.75,261.10 219.28,261.10 220.79,261.10 222.29,261.10 223.77,261.10 225.23,261.10 226.68,261.10 228.12,261.10 229.54,261.10 230.95,261.10 232.35,261.10 233.74,261.10 235.12,261.10 236.49,261.10 237.86,261.10 239.22,261.10 240.58,261.10 241.94,261.10 243.30,261.10 244.65,261.10 246.01,261.10 247.36,261.10 248.72,261.10 250.09,261.10 251.45,261.10 252.83,261.10 254.21,261.10 255.60,261.10 257.00,261.10 258.41,261.10 259.83,261.10 261.27,261.10 262.71,261.10 264.18,261.10 265.66,261.10 267.15,261.10 268.67,261.10 270.20,261.10 271.76,261.10 273.33,261.10 274.93,261.10 276.55,261.10 278.20,261.10 279.87,261.10 281.57,261.10 283.30,261.10 285.06,261.10 286.85,261.10 288.67,261.10 290.52,261.10 292.40,261.10 294.33,261.10 296.28,261.10 298.28,261.10 300.31,261.10 302.38,261.10 304.49,261.10 306.64,261.10 308.84,261.10 311.08,261.10 313.36,261.10 315.69,261.10 318.07,261.10 320.49,261.10 322.97,261.10 325.49,261.10 328.07,261.10 330.70,261.10 333.38,261.10 333.38,131.08 330.70,131.08 328.07,131.08 325.49,131.08 322.97,131.08 320.49,131.08 318.07,131.08 315.69,131.08 313.36,131.08 311.08,131.08 308.84,131.08 306.64,131.08 304.49,131.08 302.38,131.08 300.31,131.08 298.28,131.08 296.28,131.08 294.33,131.08 292.40,131.08 290.52,131.08 288.67,131.08 286.85,131.08 285.06,131.08 283.30,131.08 281.57,131.08 279.87,131.08 278.20,131.08 276.55,131.08 274.93,131.08 273.33,131.08 271.76,131.08 270.20,131.08 268.67,131.08 267.15,131.08 265.66,131.08 264.18,131.08 262.71,131.08 261.27,131.08 259.83,131.08 258.41,131.08 257.00,131.08 255.60,131.08 254.21,131.08 252.83,131.08 251.45,131.08 250.09,131.08 248.72,131.08 247.36,131.08 246.01,131.08 244.65,131.08 243.30,131.08 241.94,131.08 240.58,131.08 239.22,131.08 237.86,131.08 236.49,131.08 235.12,131.08 233.74,131.08 232.35,131.08 230.95,131.08 229.54,131.08 228.12,131.08 226.68,131.08 225.23,131.08 223.77,131.08 222.29,131.08 220.79,131.08 219.28,131.08 217.75,131.08 216.19,131.08 214.62,131.08 213.02,131.08 211.40,131.08 209.75,131.08 208.08,131.08 206.38,131.08 204.65,131.08 202.89,131.08 201.10,131.08 199.28,131.08 197.43,131.08 195.54,131.08 193.62,131.08 191.67,131.08 189.67,131.08 187.64,131.08 185.57,131.08 183.46,131.08 181.30,131.08 179.11,131.08 176.87,131.08 174.59,131.08 172.26,131.08 169.88,131.08 167.45,131.08 164.98,131.08 162.45,131.08 159.88,131.08 157.25,131.08 154.57,131.08 '/>\n<polyline clip-path='url(#7df19e82-b10b-4dd8-b15a-2860424ee369)' style='stroke-width: 1.07; stroke: none; fill: #4AB276; fill-opacity: 0.50;' points='154.57,101.61 157.25,101.62 159.88,101.64 162.45,101.69 164.98,101.75 167.45,101.83 169.88,101.92 172.26,102.03 174.59,102.15 176.87,102.29 179.11,102.45 181.30,102.62 183.46,102.80 185.57,103.00 187.64,103.21 189.67,103.43 191.67,103.67 193.62,103.92 195.54,104.18 197.43,104.45 199.28,104.73 201.10,105.02 202.89,105.33 204.65,105.64 206.38,105.96 208.08,106.30 209.75,106.64 211.40,106.99 213.02,107.35 214.62,107.71 216.19,108.09 217.75,108.47 219.28,108.86 220.79,109.25 222.29,109.65 223.77,110.05 225.23,110.47 226.68,110.88 228.12,111.30 229.54,111.73 230.95,112.15 232.35,112.59 233.74,113.02 235.12,113.46 236.49,113.90 237.86,114.34 239.22,114.78 240.58,115.23 241.94,115.68 243.30,116.12 244.65,116.57 246.01,117.01 247.36,117.46 248.72,117.91 250.09,118.35 251.45,118.79 252.83,119.23 254.21,119.67 255.60,120.10 257.00,120.54 258.41,120.96 259.83,121.39 261.27,121.81 262.71,122.22 264.18,122.64 265.66,123.04 267.15,123.44 268.67,123.84 270.20,124.22 271.76,124.60 273.33,124.98 274.93,125.34 276.55,125.70 278.20,126.05 279.87,126.39 281.57,126.73 283.30,127.05 285.06,127.36 286.85,127.67 288.67,127.96 290.52,128.24 292.40,128.51 294.33,128.77 296.28,129.02 298.28,129.26 300.31,129.48 302.38,129.69 304.49,129.89 306.64,130.07 308.84,130.24 311.08,130.40 313.36,130.54 315.69,130.66 318.07,130.77 320.49,130.87 322.97,130.94 325.49,131.00 328.07,131.05 330.70,131.07 333.38,131.08 333.38,125.17 330.70,125.16 328.07,125.14 325.49,125.09 322.97,125.03 320.49,124.96 318.07,124.86 315.69,124.75 313.36,124.63 311.08,124.49 308.84,124.33 306.64,124.16 304.49,123.98 302.38,123.78 300.31,123.57 298.28,123.35 296.28,123.11 294.33,122.86 292.40,122.60 290.52,122.33 288.67,122.05 286.85,121.76 285.06,121.45 283.30,121.14 281.57,120.82 279.87,120.48 278.20,120.14 276.55,119.79 274.93,119.43 273.33,119.07 271.76,118.69 270.20,118.31 268.67,117.93 267.15,117.53 265.66,117.13 264.18,116.73 262.71,116.31 261.27,115.90 259.83,115.48 258.41,115.05 257.00,114.63 255.60,114.19 254.21,113.76 252.83,113.32 251.45,112.88 250.09,112.44 248.72,112.00 247.36,111.55 246.01,111.10 244.65,110.66 243.30,110.21 241.94,109.77 240.58,109.32 239.22,108.87 237.86,108.43 236.49,107.99 235.12,107.55 233.74,107.11 232.35,106.68 230.95,106.24 229.54,105.82 228.12,105.39 226.68,104.97 225.23,104.56 223.77,104.14 222.29,103.74 220.79,103.34 219.28,102.95 217.75,102.56 216.19,102.18 214.62,101.80 213.02,101.44 211.40,101.08 209.75,100.73 208.08,100.39 206.38,100.05 204.65,99.73 202.89,99.42 201.10,99.11 199.28,98.82 197.43,98.54 195.54,98.27 193.62,98.01 191.67,97.76 189.67,97.52 187.64,97.30 185.57,97.09 183.46,96.89 181.30,96.71 179.11,96.54 176.87,96.38 174.59,96.24 172.26,96.12 169.88,96.01 167.45,95.92 164.98,95.84 162.45,95.78 159.88,95.73 157.25,95.71 154.57,95.70 '/>\n<polyline clip-path='url(#7df19e82-b10b-4dd8-b15a-2860424ee369)' style='stroke-width: 1.07; stroke: none; fill: #4AB276; fill-opacity: 0.50;' points='154.57,79.52 157.25,79.53 159.88,79.57 162.45,79.64 164.98,79.74 167.45,79.86 169.88,80.00 172.26,80.17 174.59,80.36 176.87,80.58 179.11,80.82 181.30,81.08 183.46,81.37 185.57,81.67 187.64,82.00 189.67,82.35 191.67,82.71 193.62,83.09 195.54,83.50 197.43,83.92 199.28,84.36 201.10,84.81 202.89,85.28 204.65,85.77 206.38,86.27 208.08,86.78 209.75,87.31 211.40,87.85 213.02,88.41 214.62,88.98 216.19,89.55 217.75,90.14 219.28,90.74 220.79,91.35 222.29,91.97 223.77,92.60 225.23,93.24 226.68,93.88 228.12,94.53 229.54,95.19 230.95,95.86 232.35,96.52 233.74,97.20 235.12,97.88 236.49,98.56 237.86,99.24 239.22,99.93 240.58,100.62 241.94,101.31 243.30,102.00 244.65,102.69 246.01,103.38 247.36,104.07 248.72,104.76 250.09,105.45 251.45,106.13 252.83,106.82 254.21,107.49 255.60,108.17 257.00,108.84 258.41,109.50 259.83,110.16 261.27,110.81 262.71,111.45 264.18,112.09 265.66,112.72 267.15,113.34 268.67,113.95 270.20,114.55 271.76,115.14 273.33,115.72 274.93,116.28 276.55,116.84 278.20,117.38 279.87,117.91 281.57,118.42 283.30,118.93 285.06,119.41 286.85,119.88 288.67,120.34 290.52,120.77 292.40,121.19 294.33,121.60 296.28,121.98 298.28,122.35 300.31,122.69 302.38,123.02 304.49,123.32 306.64,123.61 308.84,123.87 311.08,124.11 313.36,124.33 315.69,124.52 318.07,124.69 320.49,124.84 322.97,124.96 325.49,125.05 328.07,125.12 330.70,125.16 333.38,125.17 333.38,120.74 330.70,120.73 328.07,120.69 325.49,120.62 322.97,120.52 320.49,120.40 318.07,120.26 315.69,120.09 313.36,119.89 311.08,119.68 308.84,119.44 306.64,119.17 304.49,118.89 302.38,118.59 300.31,118.26 298.28,117.91 296.28,117.55 294.33,117.16 292.40,116.76 290.52,116.34 288.67,115.90 286.85,115.45 285.06,114.98 283.30,114.49 281.57,113.99 279.87,113.48 278.20,112.95 276.55,112.41 274.93,111.85 273.33,111.28 271.76,110.70 270.20,110.11 268.67,109.51 267.15,108.90 265.66,108.28 264.18,107.66 262.71,107.02 261.27,106.38 259.83,105.73 258.41,105.07 257.00,104.40 255.60,103.74 254.21,103.06 252.83,102.38 251.45,101.70 250.09,101.02 248.72,100.33 247.36,99.64 246.01,98.95 244.65,98.26 243.30,97.57 241.94,96.88 240.58,96.19 239.22,95.50 237.86,94.81 236.49,94.12 235.12,93.44 233.74,92.77 232.35,92.09 230.95,91.42 229.54,90.76 228.12,90.10 226.68,89.45 225.23,88.81 223.77,88.17 222.29,87.54 220.79,86.92 219.28,86.31 217.75,85.71 216.19,85.12 214.62,84.54 213.02,83.98 211.40,83.42 209.75,82.88 208.08,82.35 206.38,81.83 204.65,81.33 202.89,80.85 201.10,80.38 199.28,79.92 197.43,79.49 195.54,79.07 193.62,78.66 191.67,78.28 189.67,77.91 187.64,77.57 185.57,77.24 183.46,76.94 181.30,76.65 179.11,76.39 176.87,76.15 174.59,75.93 172.26,75.74 169.88,75.57 167.45,75.42 164.98,75.30 162.45,75.21 159.88,75.14 157.25,75.10 154.57,75.09 '/>\n<polyline clip-path='url(#7df19e82-b10b-4dd8-b15a-2860424ee369)' style='stroke-width: 1.07; stroke: none; fill: #4AB276; fill-opacity: 0.50;' points='154.57,131.08 157.25,131.08 159.88,131.06 162.45,131.03 164.98,130.98 167.45,130.93 169.88,130.87 172.26,130.79 174.59,130.70 176.87,130.60 179.11,130.49 181.30,130.38 183.46,130.25 185.57,130.11 187.64,129.96 189.67,129.81 191.67,129.64 193.62,129.47 195.54,129.29 197.43,129.10 199.28,128.90 201.10,128.69 202.89,128.48 204.65,128.26 206.38,128.04 208.08,127.80 209.75,127.56 211.40,127.32 213.02,127.07 214.62,126.81 216.19,126.55 217.75,126.29 219.28,126.01 220.79,125.74 222.29,125.46 223.77,125.18 225.23,124.89 226.68,124.60 228.12,124.30 229.54,124.01 230.95,123.71 232.35,123.41 233.74,123.10 235.12,122.80 236.49,122.49 237.86,122.18 239.22,121.87 240.58,121.56 241.94,121.25 243.30,120.93 244.65,120.62 246.01,120.31 247.36,120.00 248.72,119.69 250.09,119.38 251.45,119.07 252.83,118.76 254.21,118.45 255.60,118.15 257.00,117.85 258.41,117.55 259.83,117.25 261.27,116.96 262.71,116.67 264.18,116.38 265.66,116.10 267.15,115.82 268.67,115.54 270.20,115.27 271.76,115.00 273.33,114.74 274.93,114.49 276.55,114.23 278.20,113.99 279.87,113.75 281.57,113.52 283.30,113.29 285.06,113.07 286.85,112.86 288.67,112.66 290.52,112.46 292.40,112.27 294.33,112.09 296.28,111.91 298.28,111.75 300.31,111.59 302.38,111.44 304.49,111.31 306.64,111.18 308.84,111.06 311.08,110.95 313.36,110.85 315.69,110.77 318.07,110.69 320.49,110.62 322.97,110.57 325.49,110.53 328.07,110.50 330.70,110.48 333.38,110.47 333.38,103.08 330.70,103.09 328.07,103.11 325.49,103.14 322.97,103.18 320.49,103.24 318.07,103.30 315.69,103.38 313.36,103.47 311.08,103.56 308.84,103.67 306.64,103.79 304.49,103.92 302.38,104.06 300.31,104.20 298.28,104.36 296.28,104.53 294.33,104.70 292.40,104.88 290.52,105.07 288.67,105.27 286.85,105.47 285.06,105.69 283.30,105.91 281.57,106.13 279.87,106.36 278.20,106.60 276.55,106.85 274.93,107.10 273.33,107.35 271.76,107.62 270.20,107.88 268.67,108.15 267.15,108.43 265.66,108.71 264.18,108.99 262.71,109.28 261.27,109.57 259.83,109.86 258.41,110.16 257.00,110.46 255.60,110.76 254.21,111.07 252.83,111.37 251.45,111.68 250.09,111.99 248.72,112.30 247.36,112.61 246.01,112.92 244.65,113.23 243.30,113.55 241.94,113.86 240.58,114.17 239.22,114.48 237.86,114.79 236.49,115.10 235.12,115.41 233.74,115.71 232.35,116.02 230.95,116.32 229.54,116.62 228.12,116.92 226.68,117.21 225.23,117.50 223.77,117.79 222.29,118.07 220.79,118.35 219.28,118.63 217.75,118.90 216.19,119.16 214.62,119.43 213.02,119.68 211.40,119.93 209.75,120.18 208.08,120.42 206.38,120.65 204.65,120.88 202.89,121.09 201.10,121.31 199.28,121.51 197.43,121.71 195.54,121.90 193.62,122.08 191.67,122.25 189.67,122.42 187.64,122.58 185.57,122.72 183.46,122.86 181.30,122.99 179.11,123.11 176.87,123.22 174.59,123.31 172.26,123.40 169.88,123.48 167.45,123.54 164.98,123.60 162.45,123.64 159.88,123.67 157.25,123.69 154.57,123.70 '/>\n<polyline clip-path='url(#7df19e82-b10b-4dd8-b15a-2860424ee369)' style='stroke-width: 1.07; stroke: none; fill: #4AB276; fill-opacity: 0.50;' points='154.57,95.70 157.25,95.70 159.88,95.71 162.45,95.72 164.98,95.73 167.45,95.75 169.88,95.78 172.26,95.80 174.59,95.83 176.87,95.87 179.11,95.91 181.30,95.95 183.46,96.00 185.57,96.05 187.64,96.10 189.67,96.15 191.67,96.21 193.62,96.28 195.54,96.34 197.43,96.41 199.28,96.48 201.10,96.55 202.89,96.63 204.65,96.71 206.38,96.79 208.08,96.87 209.75,96.96 211.40,97.05 213.02,97.14 214.62,97.23 216.19,97.32 217.75,97.42 219.28,97.51 220.79,97.61 222.29,97.71 223.77,97.81 225.23,97.92 226.68,98.02 228.12,98.13 229.54,98.23 230.95,98.34 232.35,98.45 233.74,98.56 235.12,98.67 236.49,98.78 237.86,98.89 239.22,99.00 240.58,99.11 241.94,99.22 243.30,99.33 244.65,99.45 246.01,99.56 247.36,99.67 248.72,99.78 250.09,99.89 251.45,100.00 252.83,100.11 254.21,100.22 255.60,100.33 257.00,100.44 258.41,100.55 259.83,100.65 261.27,100.76 262.71,100.86 264.18,100.97 265.66,101.07 267.15,101.17 268.67,101.27 270.20,101.37 271.76,101.46 273.33,101.55 274.93,101.65 276.55,101.74 278.20,101.82 279.87,101.91 281.57,101.99 283.30,102.07 285.06,102.15 286.85,102.23 288.67,102.30 290.52,102.37 292.40,102.44 294.33,102.51 296.28,102.57 298.28,102.63 300.31,102.68 302.38,102.74 304.49,102.79 306.64,102.83 308.84,102.87 311.08,102.91 313.36,102.95 315.69,102.98 318.07,103.01 320.49,103.03 322.97,103.05 325.49,103.06 328.07,103.08 330.70,103.08 333.38,103.08 333.38,97.17 330.70,97.17 328.07,97.17 325.49,97.15 322.97,97.14 320.49,97.12 318.07,97.10 315.69,97.07 313.36,97.04 311.08,97.00 308.84,96.96 306.64,96.92 304.49,96.88 302.38,96.83 300.31,96.77 298.28,96.72 296.28,96.66 294.33,96.60 292.40,96.53 290.52,96.46 288.67,96.39 286.85,96.32 285.06,96.24 283.30,96.16 281.57,96.08 279.87,96.00 278.20,95.91 276.55,95.83 274.93,95.74 273.33,95.64 271.76,95.55 270.20,95.46 268.67,95.36 267.15,95.26 265.66,95.16 264.18,95.06 262.71,94.95 261.27,94.85 259.83,94.74 258.41,94.64 257.00,94.53 255.60,94.42 254.21,94.31 252.83,94.20 251.45,94.09 250.09,93.98 248.72,93.87 247.36,93.76 246.01,93.65 244.65,93.54 243.30,93.42 241.94,93.31 240.58,93.20 239.22,93.09 237.86,92.98 236.49,92.87 235.12,92.76 233.74,92.65 232.35,92.54 230.95,92.43 229.54,92.32 228.12,92.22 226.68,92.11 225.23,92.01 223.77,91.90 222.29,91.80 220.79,91.70 219.28,91.60 217.75,91.51 216.19,91.41 214.62,91.32 213.02,91.23 211.40,91.14 209.75,91.05 208.08,90.96 206.38,90.88 204.65,90.80 202.89,90.72 201.10,90.64 199.28,90.57 197.43,90.50 195.54,90.43 193.62,90.37 191.67,90.30 189.67,90.24 187.64,90.19 185.57,90.14 183.46,90.09 181.30,90.04 179.11,90.00 176.87,89.96 174.59,89.92 172.26,89.89 169.88,89.87 167.45,89.84 164.98,89.82 162.45,89.81 159.88,89.80 157.25,89.79 154.57,89.79 '/>\n<polyline clip-path='url(#7df19e82-b10b-4dd8-b15a-2860424ee369)' style='stroke-width: 1.07; stroke: none; fill: #4AB276; fill-opacity: 0.50;' points='154.57,123.70 157.25,123.68 159.88,123.65 162.45,123.60 164.98,123.52 167.45,123.42 169.88,123.31 172.26,123.17 174.59,123.01 176.87,122.84 179.11,122.65 181.30,122.43 183.46,122.21 185.57,121.96 187.64,121.70 189.67,121.42 191.67,121.12 193.62,120.81 195.54,120.49 197.43,120.15 199.28,119.80 201.10,119.43 202.89,119.05 204.65,118.66 206.38,118.26 208.08,117.84 209.75,117.42 211.40,116.98 213.02,116.53 214.62,116.07 216.19,115.61 217.75,115.13 219.28,114.65 220.79,114.16 222.29,113.66 223.77,113.15 225.23,112.64 226.68,112.12 228.12,111.60 229.54,111.07 230.95,110.53 232.35,109.99 233.74,109.45 235.12,108.90 236.49,108.35 237.86,107.80 239.22,107.25 240.58,106.69 241.94,106.14 243.30,105.58 244.65,105.02 246.01,104.46 247.36,103.91 248.72,103.35 250.09,102.80 251.45,102.25 252.83,101.70 254.21,101.15 255.60,100.61 257.00,100.07 258.41,99.54 259.83,99.01 261.27,98.48 262.71,97.96 264.18,97.45 265.66,96.94 267.15,96.44 268.67,95.95 270.20,95.47 271.76,94.99 273.33,94.53 274.93,94.07 276.55,93.62 278.20,93.19 279.87,92.76 281.57,92.34 283.30,91.94 285.06,91.55 286.85,91.17 288.67,90.80 290.52,90.45 292.40,90.11 294.33,89.79 296.28,89.48 298.28,89.18 300.31,88.91 302.38,88.64 304.49,88.40 306.64,88.17 308.84,87.96 311.08,87.76 313.36,87.59 315.69,87.43 318.07,87.30 320.49,87.18 322.97,87.08 325.49,87.01 328.07,86.95 330.70,86.92 333.38,86.91 333.38,75.09 330.70,75.10 328.07,75.13 325.49,75.19 322.97,75.26 320.49,75.36 318.07,75.48 315.69,75.61 313.36,75.77 311.08,75.94 308.84,76.14 306.64,76.35 304.49,76.58 302.38,76.82 300.31,77.09 298.28,77.36 296.28,77.66 294.33,77.97 292.40,78.29 290.52,78.63 288.67,78.98 286.85,79.35 285.06,79.73 283.30,80.12 281.57,80.52 279.87,80.94 278.20,81.37 276.55,81.80 274.93,82.25 273.33,82.71 271.76,83.17 270.20,83.65 268.67,84.13 267.15,84.62 265.66,85.12 264.18,85.63 262.71,86.14 261.27,86.66 259.83,87.19 258.41,87.72 257.00,88.25 255.60,88.79 254.21,89.33 252.83,89.88 251.45,90.43 250.09,90.98 248.72,91.53 247.36,92.09 246.01,92.65 244.65,93.20 243.30,93.76 241.94,94.32 240.58,94.87 239.22,95.43 237.86,95.98 236.49,96.53 235.12,97.08 233.74,97.63 232.35,98.17 230.95,98.71 229.54,99.25 228.12,99.78 226.68,100.30 225.23,100.82 223.77,101.33 222.29,101.84 220.79,102.34 219.28,102.83 217.75,103.31 216.19,103.79 214.62,104.25 213.02,104.71 211.40,105.16 209.75,105.60 208.08,106.02 206.38,106.44 204.65,106.84 202.89,107.23 201.10,107.61 199.28,107.98 197.43,108.33 195.54,108.67 193.62,108.99 191.67,109.30 189.67,109.60 187.64,109.88 185.57,110.14 183.46,110.39 181.30,110.61 179.11,110.83 176.87,111.02 174.59,111.19 172.26,111.35 169.88,111.49 167.45,111.60 164.98,111.70 162.45,111.78 159.88,111.83 157.25,111.86 154.57,111.88 '/>\n<polyline clip-path='url(#7df19e82-b10b-4dd8-b15a-2860424ee369)' style='stroke-width: 1.07; stroke: none; fill: #4AB276; fill-opacity: 0.50;' points='154.57,75.09 157.25,75.09 159.88,75.09 162.45,75.09 164.98,75.09 167.45,75.09 169.88,75.09 172.26,75.09 174.59,75.09 176.87,75.09 179.11,75.09 181.30,75.09 183.46,75.09 185.57,75.09 187.64,75.09 189.67,75.09 191.67,75.09 193.62,75.09 195.54,75.09 197.43,75.09 199.28,75.09 201.10,75.09 202.89,75.09 204.65,75.09 206.38,75.09 208.08,75.09 209.75,75.09 211.40,75.09 213.02,75.09 214.62,75.09 216.19,75.09 217.75,75.09 219.28,75.09 220.79,75.09 222.29,75.09 223.77,75.09 225.23,75.09 226.68,75.09 228.12,75.09 229.54,75.09 230.95,75.09 232.35,75.09 233.74,75.09 235.12,75.09 236.49,75.09 237.86,75.09 239.22,75.09 240.58,75.09 241.94,75.09 243.30,75.09 244.65,75.09 246.01,75.09 247.36,75.09 248.72,75.09 250.09,75.09 251.45,75.09 252.83,75.09 254.21,75.09 255.60,75.09 257.00,75.09 258.41,75.09 259.83,75.09 261.27,75.09 262.71,75.09 264.18,75.09 265.66,75.09 267.15,75.09 268.67,75.09 270.20,75.09 271.76,75.09 273.33,75.09 274.93,75.09 276.55,75.09 278.20,75.09 279.87,75.09 281.57,75.09 283.30,75.09 285.06,75.09 286.85,75.09 288.67,75.09 290.52,75.09 292.40,75.09 294.33,75.09 296.28,75.09 298.28,75.09 300.31,75.09 302.38,75.09 304.49,75.09 306.64,75.09 308.84,75.09 311.08,75.09 313.36,75.09 315.69,75.09 318.07,75.09 320.49,75.09 322.97,75.09 325.49,75.09 328.07,75.09 330.70,75.09 333.38,75.09 333.38,35.19 330.70,35.19 328.07,35.19 325.49,35.19 322.97,35.19 320.49,35.19 318.07,35.19 315.69,35.19 313.36,35.19 311.08,35.19 308.84,35.19 306.64,35.19 304.49,35.19 302.38,35.19 300.31,35.19 298.28,35.19 296.28,35.19 294.33,35.19 292.40,35.19 290.52,35.19 288.67,35.19 286.85,35.19 285.06,35.19 283.30,35.19 281.57,35.19 279.87,35.19 278.20,35.19 276.55,35.19 274.93,35.19 273.33,35.19 271.76,35.19 270.20,35.19 268.67,35.19 267.15,35.19 265.66,35.19 264.18,35.19 262.71,35.19 261.27,35.19 259.83,35.19 258.41,35.19 257.00,35.19 255.60,35.19 254.21,35.19 252.83,35.19 251.45,35.19 250.09,35.19 248.72,35.19 247.36,35.19 246.01,35.19 244.65,35.19 243.30,35.19 241.94,35.19 240.58,35.19 239.22,35.19 237.86,35.19 236.49,35.19 235.12,35.19 233.74,35.19 232.35,35.19 230.95,35.19 229.54,35.19 228.12,35.19 226.68,35.19 225.23,35.19 223.77,35.19 222.29,35.19 220.79,35.19 219.28,35.19 217.75,35.19 216.19,35.19 214.62,35.19 213.02,35.19 211.40,35.19 209.75,35.19 208.08,35.19 206.38,35.19 204.65,35.19 202.89,35.19 201.10,35.19 199.28,35.19 197.43,35.19 195.54,35.19 193.62,35.19 191.67,35.19 189.67,35.19 187.64,35.19 185.57,35.19 183.46,35.19 181.30,35.19 179.11,35.19 176.87,35.19 174.59,35.19 172.26,35.19 169.88,35.19 167.45,35.19 164.98,35.19 162.45,35.19 159.88,35.19 157.25,35.19 154.57,35.19 '/>\n<polyline clip-path='url(#7df19e82-b10b-4dd8-b15a-2860424ee369)' style='stroke-width: 1.07; stroke: #DDDDDD; fill: #F6F6F6;' points='124.77,261.10 164.50,261.10 164.50,111.88 124.77,111.88 '/>\n<polyline clip-path='url(#7df19e82-b10b-4dd8-b15a-2860424ee369)' style='stroke-width: 1.07; stroke: #DDDDDD; fill: #F6F6F6;' points='124.77,101.61 164.50,101.61 164.50,89.79 124.77,89.79 '/>\n<polyline clip-path='url(#7df19e82-b10b-4dd8-b15a-2860424ee369)' style='stroke-width: 1.07; stroke: #DDDDDD; fill: #F6F6F6;' points='124.77,79.52 164.50,79.52 164.50,35.19 124.77,35.19 '/>\n<polyline clip-path='url(#7df19e82-b10b-4dd8-b15a-2860424ee369)' style='stroke-width: 1.07; stroke: #DDDDDD; fill: #F6F6F6;' points='323.45,261.10 363.18,261.10 363.18,120.74 323.45,120.74 '/>\n<polyline clip-path='url(#7df19e82-b10b-4dd8-b15a-2860424ee369)' style='stroke-width: 1.07; stroke: #DDDDDD; fill: #F6F6F6;' points='323.45,110.47 363.18,110.47 363.18,97.17 323.45,97.17 '/>\n<polyline clip-path='url(#7df19e82-b10b-4dd8-b15a-2860424ee369)' style='stroke-width: 1.07; stroke: #DDDDDD; fill: #F6F6F6;' points='323.45,86.91 363.18,86.91 363.18,35.19 323.45,35.19 '/>\n<g clip-path='url(#7df19e82-b10b-4dd8-b15a-2860424ee369)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='36.57px' style='font-size: 7.11px; fill: #444444; font-family: Arial;' y='189.00' x='126.35'>\nMainstream\n</text>\n</g>\n<g clip-path='url(#7df19e82-b10b-4dd8-b15a-2860424ee369)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='17.51px' style='font-size: 7.11px; fill: #444444; font-family: Arial;' y='98.20' x='135.88'>\nOther\n</text>\n</g>\n<g clip-path='url(#7df19e82-b10b-4dd8-b15a-2860424ee369)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='22.96px' style='font-size: 7.11px; fill: #444444; font-family: Arial;' y='59.86' x='133.16'>\nSpecial\n</text>\n</g>\n<g clip-path='url(#7df19e82-b10b-4dd8-b15a-2860424ee369)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='36.57px' style='font-size: 7.11px; fill: #444444; font-family: Arial;' y='193.43' x='325.03'>\nMainstream\n</text>\n</g>\n<g clip-path='url(#7df19e82-b10b-4dd8-b15a-2860424ee369)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='17.51px' style='font-size: 7.11px; fill: #444444; font-family: Arial;' y='106.33' x='334.56'>\nOther\n</text>\n</g>\n<g clip-path='url(#7df19e82-b10b-4dd8-b15a-2860424ee369)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='22.96px' style='font-size: 7.11px; fill: #444444; font-family: Arial;' y='63.56' x='331.83'>\nSpecial\n</text>\n</g>\n<defs>\n<clipPath id='d08e3a42-85bc-4da8-80b0-a80c604e1888'>\n<rect height='289.25' width='468.00' y='0.00' x='0.00'/>\n</clipPath>\n</defs>\n<g clip-path='url(#d08e3a42-85bc-4da8-80b0-a80c604e1888)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='5.01px' style='font-size: 8.80px; fill: #4D4D4D; font-family: Arial;' y='264.32' x='15.49'>\n0\n</text>\n</g>\n<g clip-path='url(#d08e3a42-85bc-4da8-80b0-a80c604e1888)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='10.01px' style='font-size: 8.80px; fill: #4D4D4D; font-family: Arial;' y='190.45' x='10.48'>\n50\n</text>\n</g>\n<g clip-path='url(#d08e3a42-85bc-4da8-80b0-a80c604e1888)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='15.02px' style='font-size: 8.80px; fill: #4D4D4D; font-family: Arial;' y='116.57' x='5.48'>\n100\n</text>\n</g>\n<g clip-path='url(#d08e3a42-85bc-4da8-80b0-a80c604e1888)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='15.02px' style='font-size: 8.80px; fill: #4D4D4D; font-family: Arial;' y='42.70' x='5.48'>\n150\n</text>\n</g>\n<polyline clip-path='url(#d08e3a42-85bc-4da8-80b0-a80c604e1888)' style='stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;' points='22.69,261.10 25.43,261.10 '/>\n<polyline clip-path='url(#d08e3a42-85bc-4da8-80b0-a80c604e1888)' style='stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;' points='22.69,187.23 25.43,187.23 '/>\n<polyline clip-path='url(#d08e3a42-85bc-4da8-80b0-a80c604e1888)' style='stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;' points='22.69,113.35 25.43,113.35 '/>\n<polyline clip-path='url(#d08e3a42-85bc-4da8-80b0-a80c604e1888)' style='stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;' points='22.69,39.48 25.43,39.48 '/>\n<polyline clip-path='url(#d08e3a42-85bc-4da8-80b0-a80c604e1888)' style='stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;' points='144.63,275.14 144.63,272.40 '/>\n<polyline clip-path='url(#d08e3a42-85bc-4da8-80b0-a80c604e1888)' style='stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;' points='343.31,275.14 343.31,272.40 '/>\n<g clip-path='url(#d08e3a42-85bc-4da8-80b0-a80c604e1888)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='26.51px' style='font-size: 8.80px; fill: #4D4D4D; font-family: Arial;' y='283.77' x='131.38'>\nNCY 6\n</text>\n</g>\n<g clip-path='url(#d08e3a42-85bc-4da8-80b0-a80c604e1888)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='26.51px' style='font-size: 8.80px; fill: #4D4D4D; font-family: Arial;' y='283.77' x='330.06'>\nNCY 7\n</text>\n</g>\n<g clip-path='url(#d08e3a42-85bc-4da8-80b0-a80c604e1888)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='218.98px' style='font-size: 13.20px; font-family: Arial;' y='14.79' x='25.43'>\nAggregate setting transitions: 2015/16\n</text>\n</g>\n</svg>\n","value":"#gg4clj.core.GGView{:plot-command [[:require \"ggforce\"] [:<- :foo [:data.frame {:y [:c \"Mainstream\" \"Mainstream\" \"Other\" \"Other\" \"Mainstream\" \"Special\" \"Special\" \"Special\" \"Mainstream\" \"Other\" \"Other\" \"Mainstream\" \"Special\" \"Mainstream\"], :value [:c 88 88 4 4 8 8 27 27 5 5 4 4 3 3], :setting [:c \"Mainstream\" \"Mainstream\" \"Other\" \"Other\" \"Special\" \"Special\" \"Special\" \"Special\" \"Other\" \"Other\" \"Mainstream\" \"Mainstream\" \"Mainstream\" \"Mainstream\"], :id [:c 0 0 1 1 2 2 3 3 4 4 5 5 6 6], :x [:c \"NCY 6\" \"NCY 7\" \"NCY 6\" \"NCY 7\" \"NCY 6\" \"NCY 7\" \"NCY 6\" \"NCY 7\" \"NCY 6\" \"NCY 7\" \"NCY 6\" \"NCY 7\" \"NCY 6\" \"NCY 7\"]}]] [:<- :palette [:c \"#999999\" \"#E69F00\" \"#56B4E9\" \"#009E73\" \"#F0E442\" \"#0072B2\" \"#D55E00\" \"#CC79A7\" \"#1b9e77\" \"#d95f02\" \"#7570b3\" \"#e7298a\"]] [:<- :palette [:c \"#4ab276\" \"#4ab276\" \"#4ab276\" \"#4ab276\" \"#4ab276\"]] [:+ [:+ [:+ [:+ [:+ [:+ [:ggplot :foo [:aes :x {:id :id, :split [:factor :y], :value :value}]] [:scale_fill_manual {:values :palette}]] [:geom_parallel_sets [:aes {:fill :setting}] {:alpha 0.5, :axis.width 0.1}]] [:geom_parallel_sets_axes {:axis.width 0.2, :fill \"#F6F6F6\", :color \"#DDDDDD\"}]] [:geom_parallel_sets_labels {:color \"#444444\", :angle 0, :size 2.5}]] [:ggtitle \"Aggregate setting transitions: 2015/16\"]] [:theme {:axis.title.x [:element_blank], :legend.position \"none\"}]]], :options {}}"},{"type":"html","content":"<?xml version='1.0' encoding='UTF-8'?>\n<svg viewBox='0 0 468.00 289.25' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns='http://www.w3.org/2000/svg'>\n<defs>\n<style type='text/css'>\n\n    line, polyline, path, rect, circle {\n      fill: none;\n      stroke: #000000;\n      stroke-linecap: round;\n      stroke-linejoin: round;\n      stroke-miterlimit: 10.00;\n    }\n  \n</style>\n</defs>\n<rect style='stroke: none; fill: #FFFFFF;' height='100%' width='100%'/>\n<rect style='stroke-width: 1.07; stroke: #FFFFFF; fill: #FFFFFF;' height='289.25' width='468.00' y='0.00' x='0.00'/>\n<defs>\n<clipPath id='a9760bd8-2800-4574-8a94-eac1128d3f26'>\n<rect height='248.50' width='437.09' y='23.90' x='25.43'/>\n</clipPath>\n</defs>\n<rect clip-path='url(#a9760bd8-2800-4574-8a94-eac1128d3f26)' style='stroke-width: 1.07; stroke: none; fill: #EBEBEB;' height='248.50' width='437.09' y='23.90' x='25.43'/>\n<polyline clip-path='url(#a9760bd8-2800-4574-8a94-eac1128d3f26)' style='stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;' points='25.43,225.20 462.52,225.20 '/>\n<polyline clip-path='url(#a9760bd8-2800-4574-8a94-eac1128d3f26)' style='stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;' points='25.43,153.39 462.52,153.39 '/>\n<polyline clip-path='url(#a9760bd8-2800-4574-8a94-eac1128d3f26)' style='stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;' points='25.43,81.58 462.52,81.58 '/>\n<polyline clip-path='url(#a9760bd8-2800-4574-8a94-eac1128d3f26)' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' points='25.43,261.10 462.52,261.10 '/>\n<polyline clip-path='url(#a9760bd8-2800-4574-8a94-eac1128d3f26)' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' points='25.43,189.29 462.52,189.29 '/>\n<polyline clip-path='url(#a9760bd8-2800-4574-8a94-eac1128d3f26)' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' points='25.43,117.49 462.52,117.49 '/>\n<polyline clip-path='url(#a9760bd8-2800-4574-8a94-eac1128d3f26)' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' points='25.43,45.68 462.52,45.68 '/>\n<polyline clip-path='url(#a9760bd8-2800-4574-8a94-eac1128d3f26)' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' points='144.63,272.40 144.63,23.90 '/>\n<polyline clip-path='url(#a9760bd8-2800-4574-8a94-eac1128d3f26)' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' points='343.31,272.40 343.31,23.90 '/>\n<polyline clip-path='url(#a9760bd8-2800-4574-8a94-eac1128d3f26)' style='stroke-width: 1.07; stroke: none; fill: #4AB276; fill-opacity: 0.50;' points='154.57,261.10 157.25,261.10 159.88,261.10 162.45,261.10 164.98,261.10 167.45,261.10 169.88,261.10 172.26,261.10 174.59,261.10 176.87,261.10 179.11,261.10 181.30,261.10 183.46,261.10 185.57,261.10 187.64,261.10 189.67,261.10 191.67,261.10 193.62,261.10 195.54,261.10 197.43,261.10 199.28,261.10 201.10,261.10 202.89,261.10 204.65,261.10 206.38,261.10 208.08,261.10 209.75,261.10 211.40,261.10 213.02,261.10 214.62,261.10 216.19,261.10 217.75,261.10 219.28,261.10 220.79,261.10 222.29,261.10 223.77,261.10 225.23,261.10 226.68,261.10 228.12,261.10 229.54,261.10 230.95,261.10 232.35,261.10 233.74,261.10 235.12,261.10 236.49,261.10 237.86,261.10 239.22,261.10 240.58,261.10 241.94,261.10 243.30,261.10 244.65,261.10 246.01,261.10 247.36,261.10 248.72,261.10 250.09,261.10 251.45,261.10 252.83,261.10 254.21,261.10 255.60,261.10 257.00,261.10 258.41,261.10 259.83,261.10 261.27,261.10 262.71,261.10 264.18,261.10 265.66,261.10 267.15,261.10 268.67,261.10 270.20,261.10 271.76,261.10 273.33,261.10 274.93,261.10 276.55,261.10 278.20,261.10 279.87,261.10 281.57,261.10 283.30,261.10 285.06,261.10 286.85,261.10 288.67,261.10 290.52,261.10 292.40,261.10 294.33,261.10 296.28,261.10 298.28,261.10 300.31,261.10 302.38,261.10 304.49,261.10 306.64,261.10 308.84,261.10 311.08,261.10 313.36,261.10 315.69,261.10 318.07,261.10 320.49,261.10 322.97,261.10 325.49,261.10 328.07,261.10 330.70,261.10 333.38,261.10 333.38,136.16 330.70,136.16 328.07,136.16 325.49,136.16 322.97,136.16 320.49,136.16 318.07,136.16 315.69,136.16 313.36,136.16 311.08,136.16 308.84,136.16 306.64,136.16 304.49,136.16 302.38,136.16 300.31,136.16 298.28,136.16 296.28,136.16 294.33,136.16 292.40,136.16 290.52,136.16 288.67,136.16 286.85,136.16 285.06,136.16 283.30,136.16 281.57,136.16 279.87,136.16 278.20,136.16 276.55,136.16 274.93,136.16 273.33,136.16 271.76,136.16 270.20,136.16 268.67,136.16 267.15,136.16 265.66,136.16 264.18,136.16 262.71,136.16 261.27,136.16 259.83,136.16 258.41,136.16 257.00,136.16 255.60,136.16 254.21,136.16 252.83,136.16 251.45,136.16 250.09,136.16 248.72,136.16 247.36,136.16 246.01,136.16 244.65,136.16 243.30,136.16 241.94,136.16 240.58,136.16 239.22,136.16 237.86,136.16 236.49,136.16 235.12,136.16 233.74,136.16 232.35,136.16 230.95,136.16 229.54,136.16 228.12,136.16 226.68,136.16 225.23,136.16 223.77,136.16 222.29,136.16 220.79,136.16 219.28,136.16 217.75,136.16 216.19,136.16 214.62,136.16 213.02,136.16 211.40,136.16 209.75,136.16 208.08,136.16 206.38,136.16 204.65,136.16 202.89,136.16 201.10,136.16 199.28,136.16 197.43,136.16 195.54,136.16 193.62,136.16 191.67,136.16 189.67,136.16 187.64,136.16 185.57,136.16 183.46,136.16 181.30,136.16 179.11,136.16 176.87,136.16 174.59,136.16 172.26,136.16 169.88,136.16 167.45,136.16 164.98,136.16 162.45,136.16 159.88,136.16 157.25,136.16 154.57,136.16 '/>\n<polyline clip-path='url(#a9760bd8-2800-4574-8a94-eac1128d3f26)' style='stroke-width: 1.07; stroke: none; fill: #4AB276; fill-opacity: 0.50;' points='154.57,112.96 157.25,112.97 159.88,112.99 162.45,113.02 164.98,113.07 167.45,113.13 169.88,113.21 172.26,113.29 174.59,113.39 176.87,113.50 179.11,113.62 181.30,113.76 183.46,113.90 185.57,114.06 187.64,114.22 189.67,114.40 191.67,114.58 193.62,114.78 195.54,114.98 197.43,115.20 199.28,115.42 201.10,115.65 202.89,115.89 204.65,116.14 206.38,116.39 208.08,116.65 209.75,116.92 211.40,117.20 213.02,117.48 214.62,117.77 216.19,118.06 217.75,118.36 219.28,118.67 220.79,118.98 222.29,119.29 223.77,119.61 225.23,119.93 226.68,120.26 228.12,120.59 229.54,120.92 230.95,121.26 232.35,121.60 233.74,121.94 235.12,122.29 236.49,122.63 237.86,122.98 239.22,123.33 240.58,123.68 241.94,124.03 243.30,124.38 244.65,124.73 246.01,125.09 247.36,125.44 248.72,125.79 250.09,126.14 251.45,126.48 252.83,126.83 254.21,127.17 255.60,127.52 257.00,127.86 258.41,128.19 259.83,128.53 261.27,128.86 262.71,129.19 264.18,129.51 265.66,129.83 267.15,130.14 268.67,130.45 270.20,130.76 271.76,131.06 273.33,131.35 274.93,131.64 276.55,131.92 278.20,132.20 279.87,132.47 281.57,132.73 283.30,132.98 285.06,133.23 286.85,133.47 288.67,133.70 290.52,133.92 292.40,134.13 294.33,134.34 296.28,134.53 298.28,134.72 300.31,134.90 302.38,135.06 304.49,135.22 306.64,135.36 308.84,135.49 311.08,135.62 313.36,135.73 315.69,135.82 318.07,135.91 320.49,135.98 322.97,136.05 325.49,136.09 328.07,136.13 330.70,136.15 333.38,136.16 333.38,130.41 330.70,130.40 328.07,130.38 325.49,130.35 322.97,130.30 320.49,130.24 318.07,130.17 315.69,130.08 313.36,129.98 311.08,129.87 308.84,129.75 306.64,129.62 304.49,129.47 302.38,129.32 300.31,129.15 298.28,128.98 296.28,128.79 294.33,128.59 292.40,128.39 290.52,128.18 288.67,127.95 286.85,127.72 285.06,127.48 283.30,127.24 281.57,126.98 279.87,126.72 278.20,126.45 276.55,126.18 274.93,125.89 273.33,125.61 271.76,125.31 270.20,125.01 268.67,124.71 267.15,124.40 265.66,124.08 264.18,123.76 262.71,123.44 261.27,123.11 259.83,122.78 258.41,122.45 257.00,122.11 255.60,121.77 254.21,121.43 252.83,121.09 251.45,120.74 250.09,120.39 248.72,120.04 247.36,119.69 246.01,119.34 244.65,118.99 243.30,118.64 241.94,118.29 240.58,117.94 239.22,117.59 237.86,117.24 236.49,116.89 235.12,116.54 233.74,116.20 232.35,115.86 230.95,115.52 229.54,115.18 228.12,114.85 226.68,114.52 225.23,114.19 223.77,113.86 222.29,113.55 220.79,113.23 219.28,112.92 217.75,112.62 216.19,112.32 214.62,112.02 213.02,111.73 211.40,111.45 209.75,111.18 208.08,110.91 206.38,110.65 204.65,110.39 202.89,110.14 201.10,109.91 199.28,109.67 197.43,109.45 195.54,109.24 193.62,109.03 191.67,108.84 189.67,108.65 187.64,108.48 185.57,108.31 183.46,108.16 181.30,108.01 179.11,107.88 176.87,107.76 174.59,107.65 172.26,107.55 169.88,107.46 167.45,107.39 164.98,107.33 162.45,107.28 159.88,107.25 157.25,107.22 154.57,107.22 '/>\n<polyline clip-path='url(#a9760bd8-2800-4574-8a94-eac1128d3f26)' style='stroke-width: 1.07; stroke: none; fill: #4AB276; fill-opacity: 0.50;' points='154.57,89.77 157.25,89.78 159.88,89.82 162.45,89.88 164.98,89.96 167.45,90.07 169.88,90.20 172.26,90.35 174.59,90.52 176.87,90.71 179.11,90.93 181.30,91.16 183.46,91.41 185.57,91.69 187.64,91.98 189.67,92.28 191.67,92.61 193.62,92.95 195.54,93.31 197.43,93.68 199.28,94.07 201.10,94.48 202.89,94.90 204.65,95.33 206.38,95.78 208.08,96.23 209.75,96.71 211.40,97.19 213.02,97.68 214.62,98.19 216.19,98.70 217.75,99.23 219.28,99.76 220.79,100.31 222.29,100.86 223.77,101.42 225.23,101.98 226.68,102.56 228.12,103.14 229.54,103.72 230.95,104.31 232.35,104.91 233.74,105.51 235.12,106.11 236.49,106.72 237.86,107.33 239.22,107.94 240.58,108.55 241.94,109.17 243.30,109.78 244.65,110.40 246.01,111.01 247.36,111.63 248.72,112.24 250.09,112.85 251.45,113.46 252.83,114.07 254.21,114.67 255.60,115.27 257.00,115.87 258.41,116.46 259.83,117.04 261.27,117.62 262.71,118.20 264.18,118.76 265.66,119.32 267.15,119.87 268.67,120.42 270.20,120.95 271.76,121.48 273.33,121.99 274.93,122.50 276.55,122.99 278.20,123.47 279.87,123.95 281.57,124.40 283.30,124.85 285.06,125.28 286.85,125.70 288.67,126.11 290.52,126.50 292.40,126.87 294.33,127.23 296.28,127.57 298.28,127.90 300.31,128.20 302.38,128.49 304.49,128.76 306.64,129.02 308.84,129.25 311.08,129.46 313.36,129.66 315.69,129.83 318.07,129.98 320.49,130.11 322.97,130.22 325.49,130.30 328.07,130.36 330.70,130.40 333.38,130.41 333.38,123.23 330.70,123.22 328.07,123.18 325.49,123.12 322.97,123.04 320.49,122.93 318.07,122.80 315.69,122.65 313.36,122.48 311.08,122.28 308.84,122.07 306.64,121.84 304.49,121.58 302.38,121.31 300.31,121.02 298.28,120.71 296.28,120.39 294.33,120.05 292.40,119.69 290.52,119.31 288.67,118.92 286.85,118.52 285.06,118.10 283.30,117.67 281.57,117.22 279.87,116.76 278.20,116.29 276.55,115.81 274.93,115.32 273.33,114.81 271.76,114.30 270.20,113.77 268.67,113.24 267.15,112.69 265.66,112.14 264.18,111.58 262.71,111.02 261.27,110.44 259.83,109.86 258.41,109.28 257.00,108.69 255.60,108.09 254.21,107.49 252.83,106.89 251.45,106.28 250.09,105.67 248.72,105.06 247.36,104.45 246.01,103.83 244.65,103.22 243.30,102.60 241.94,101.99 240.58,101.37 239.22,100.76 237.86,100.15 236.49,99.54 235.12,98.93 233.74,98.33 232.35,97.73 230.95,97.13 229.54,96.54 228.12,95.95 226.68,95.37 225.23,94.80 223.77,94.24 222.29,93.68 220.79,93.12 219.28,92.58 217.75,92.05 216.19,91.52 214.62,91.01 213.02,90.50 211.40,90.01 209.75,89.52 208.08,89.05 206.38,88.59 204.65,88.15 202.89,87.72 201.10,87.30 199.28,86.89 197.43,86.50 195.54,86.13 193.62,85.77 191.67,85.43 189.67,85.10 187.64,84.80 185.57,84.51 183.46,84.23 181.30,83.98 179.11,83.75 176.87,83.53 174.59,83.34 172.26,83.17 169.88,83.02 167.45,82.89 164.98,82.78 162.45,82.70 159.88,82.64 157.25,82.60 154.57,82.59 '/>\n<polyline clip-path='url(#a9760bd8-2800-4574-8a94-eac1128d3f26)' style='stroke-width: 1.07; stroke: none; fill: #4AB276; fill-opacity: 0.50;' points='154.57,136.16 157.25,136.15 159.88,136.13 162.45,136.09 164.98,136.05 167.45,135.98 169.88,135.91 172.26,135.82 174.59,135.73 176.87,135.62 179.11,135.49 181.30,135.36 183.46,135.22 185.57,135.06 187.64,134.90 189.67,134.72 191.67,134.53 193.62,134.34 195.54,134.13 197.43,133.92 199.28,133.70 201.10,133.47 202.89,133.23 204.65,132.98 206.38,132.73 208.08,132.47 209.75,132.20 211.40,131.92 213.02,131.64 214.62,131.35 216.19,131.06 217.75,130.76 219.28,130.45 220.79,130.14 222.29,129.83 223.77,129.51 225.23,129.19 226.68,128.86 228.12,128.53 229.54,128.19 230.95,127.86 232.35,127.52 233.74,127.17 235.12,126.83 236.49,126.48 237.86,126.14 239.22,125.79 240.58,125.44 241.94,125.09 243.30,124.73 244.65,124.38 246.01,124.03 247.36,123.68 248.72,123.33 250.09,122.98 251.45,122.63 252.83,122.29 254.21,121.94 255.60,121.60 257.00,121.26 258.41,120.92 259.83,120.59 261.27,120.26 262.71,119.93 264.18,119.61 265.66,119.29 267.15,118.98 268.67,118.67 270.20,118.36 271.76,118.06 273.33,117.77 274.93,117.48 276.55,117.20 278.20,116.92 279.87,116.65 281.57,116.39 283.30,116.14 285.06,115.89 286.85,115.65 288.67,115.42 290.52,115.20 292.40,114.98 294.33,114.78 296.28,114.58 298.28,114.40 300.31,114.22 302.38,114.06 304.49,113.90 306.64,113.76 308.84,113.62 311.08,113.50 313.36,113.39 315.69,113.29 318.07,113.21 320.49,113.13 322.97,113.07 325.49,113.02 328.07,112.99 330.70,112.97 333.38,112.96 333.38,105.78 330.70,105.79 328.07,105.81 325.49,105.84 322.97,105.89 320.49,105.95 318.07,106.03 315.69,106.11 313.36,106.21 311.08,106.32 308.84,106.44 306.64,106.58 304.49,106.72 302.38,106.88 300.31,107.04 298.28,107.22 296.28,107.40 294.33,107.60 292.40,107.80 290.52,108.02 288.67,108.24 286.85,108.47 285.06,108.71 283.30,108.96 281.57,109.21 279.87,109.47 278.20,109.74 276.55,110.02 274.93,110.30 273.33,110.59 271.76,110.88 270.20,111.18 268.67,111.48 267.15,111.79 265.66,112.11 264.18,112.43 262.71,112.75 261.27,113.08 259.83,113.41 258.41,113.74 257.00,114.08 255.60,114.42 254.21,114.76 252.83,115.11 251.45,115.45 250.09,115.80 248.72,116.15 247.36,116.50 246.01,116.85 244.65,117.20 243.30,117.55 241.94,117.91 240.58,118.26 239.22,118.61 237.86,118.96 236.49,119.30 235.12,119.65 233.74,119.99 232.35,120.34 230.95,120.68 229.54,121.01 228.12,121.35 226.68,121.68 225.23,122.00 223.77,122.33 222.29,122.65 220.79,122.96 219.28,123.27 217.75,123.58 216.19,123.88 214.62,124.17 213.02,124.46 211.40,124.74 209.75,125.02 208.08,125.29 206.38,125.55 204.65,125.80 202.89,126.05 201.10,126.29 199.28,126.52 197.43,126.74 195.54,126.95 193.62,127.16 191.67,127.35 189.67,127.54 187.64,127.71 185.57,127.88 183.46,128.04 181.30,128.18 179.11,128.31 176.87,128.44 174.59,128.55 172.26,128.64 169.88,128.73 167.45,128.80 164.98,128.86 162.45,128.91 159.88,128.95 157.25,128.97 154.57,128.98 '/>\n<polyline clip-path='url(#a9760bd8-2800-4574-8a94-eac1128d3f26)' style='stroke-width: 1.07; stroke: none; fill: #4AB276; fill-opacity: 0.50;' points='154.57,107.22 157.25,107.22 159.88,107.22 162.45,107.21 164.98,107.21 167.45,107.21 169.88,107.20 172.26,107.20 174.59,107.19 176.87,107.18 179.11,107.18 181.30,107.17 183.46,107.16 185.57,107.15 187.64,107.14 189.67,107.13 191.67,107.12 193.62,107.10 195.54,107.09 197.43,107.08 199.28,107.07 201.10,107.05 202.89,107.04 204.65,107.02 206.38,107.01 208.08,106.99 209.75,106.97 211.40,106.96 213.02,106.94 214.62,106.92 216.19,106.90 217.75,106.88 219.28,106.86 220.79,106.85 222.29,106.83 223.77,106.81 225.23,106.79 226.68,106.77 228.12,106.75 229.54,106.72 230.95,106.70 232.35,106.68 233.74,106.66 235.12,106.64 236.49,106.62 237.86,106.60 239.22,106.58 240.58,106.55 241.94,106.53 243.30,106.51 244.65,106.49 246.01,106.47 247.36,106.45 248.72,106.42 250.09,106.40 251.45,106.38 252.83,106.36 254.21,106.34 255.60,106.32 257.00,106.30 258.41,106.27 259.83,106.25 261.27,106.23 262.71,106.21 264.18,106.19 265.66,106.17 267.15,106.15 268.67,106.13 270.20,106.12 271.76,106.10 273.33,106.08 274.93,106.06 276.55,106.04 278.20,106.03 279.87,106.01 281.57,105.99 283.30,105.98 285.06,105.96 286.85,105.95 288.67,105.93 290.52,105.92 292.40,105.91 294.33,105.89 296.28,105.88 298.28,105.87 300.31,105.86 302.38,105.85 304.49,105.84 306.64,105.83 308.84,105.82 311.08,105.81 313.36,105.81 315.69,105.80 318.07,105.80 320.49,105.79 322.97,105.79 325.49,105.79 328.07,105.78 330.70,105.78 333.38,105.78 333.38,100.04 330.70,100.04 328.07,100.04 325.49,100.04 322.97,100.04 320.49,100.05 318.07,100.05 315.69,100.06 313.36,100.06 311.08,100.07 308.84,100.08 306.64,100.09 304.49,100.09 302.38,100.10 300.31,100.11 298.28,100.13 296.28,100.14 294.33,100.15 292.40,100.16 290.52,100.18 288.67,100.19 286.85,100.20 285.06,100.22 283.30,100.23 281.57,100.25 279.87,100.27 278.20,100.28 276.55,100.30 274.93,100.32 273.33,100.33 271.76,100.35 270.20,100.37 268.67,100.39 267.15,100.41 265.66,100.43 264.18,100.45 262.71,100.47 261.27,100.49 259.83,100.51 258.41,100.53 257.00,100.55 255.60,100.57 254.21,100.59 252.83,100.61 251.45,100.64 250.09,100.66 248.72,100.68 247.36,100.70 246.01,100.72 244.65,100.74 243.30,100.77 241.94,100.79 240.58,100.81 239.22,100.83 237.86,100.85 236.49,100.87 235.12,100.90 233.74,100.92 232.35,100.94 230.95,100.96 229.54,100.98 228.12,101.00 226.68,101.02 225.23,101.04 223.77,101.06 222.29,101.08 220.79,101.10 219.28,101.12 217.75,101.14 216.19,101.16 214.62,101.18 213.02,101.19 211.40,101.21 209.75,101.23 208.08,101.24 206.38,101.26 204.65,101.28 202.89,101.29 201.10,101.31 199.28,101.32 197.43,101.33 195.54,101.35 193.62,101.36 191.67,101.37 189.67,101.38 187.64,101.39 185.57,101.41 183.46,101.41 181.30,101.42 179.11,101.43 176.87,101.44 174.59,101.45 172.26,101.45 169.88,101.46 167.45,101.46 164.98,101.47 162.45,101.47 159.88,101.47 157.25,101.47 154.57,101.47 '/>\n<polyline clip-path='url(#a9760bd8-2800-4574-8a94-eac1128d3f26)' style='stroke-width: 1.07; stroke: none; fill: #4AB276; fill-opacity: 0.50;' points='154.57,128.98 157.25,128.96 159.88,128.93 162.45,128.87 164.98,128.79 167.45,128.69 169.88,128.56 172.26,128.41 174.59,128.25 176.87,128.06 179.11,127.86 181.30,127.63 183.46,127.39 185.57,127.12 187.64,126.84 189.67,126.55 191.67,126.23 193.62,125.90 195.54,125.56 197.43,125.20 199.28,124.82 201.10,124.43 202.89,124.03 204.65,123.61 206.38,123.18 208.08,122.74 209.75,122.28 211.40,121.82 213.02,121.34 214.62,120.85 216.19,120.36 217.75,119.85 219.28,119.33 220.79,118.81 222.29,118.28 223.77,117.74 225.23,117.19 226.68,116.64 228.12,116.08 229.54,115.52 230.95,114.95 232.35,114.37 233.74,113.79 235.12,113.21 236.49,112.63 237.86,112.04 239.22,111.45 240.58,110.86 241.94,110.26 243.30,109.67 244.65,109.07 246.01,108.48 247.36,107.89 248.72,107.30 250.09,106.71 251.45,106.12 252.83,105.53 254.21,104.95 255.60,104.37 257.00,103.80 258.41,103.23 259.83,102.66 261.27,102.10 262.71,101.55 264.18,101.00 265.66,100.46 267.15,99.93 268.67,99.41 270.20,98.89 271.76,98.39 273.33,97.89 274.93,97.40 276.55,96.93 278.20,96.46 279.87,96.01 281.57,95.56 283.30,95.13 285.06,94.72 286.85,94.31 288.67,93.92 290.52,93.55 292.40,93.19 294.33,92.84 296.28,92.51 298.28,92.20 300.31,91.90 302.38,91.62 304.49,91.36 306.64,91.11 308.84,90.89 311.08,90.68 313.36,90.49 315.69,90.33 318.07,90.18 320.49,90.06 322.97,89.95 325.49,89.87 328.07,89.82 330.70,89.78 333.38,89.77 333.38,84.02 330.70,84.04 328.07,84.07 325.49,84.13 322.97,84.21 320.49,84.31 318.07,84.44 315.69,84.58 313.36,84.75 311.08,84.94 308.84,85.14 306.64,85.37 304.49,85.61 302.38,85.87 300.31,86.15 298.28,86.45 296.28,86.76 294.33,87.09 292.40,87.44 290.52,87.80 288.67,88.18 286.85,88.57 285.06,88.97 283.30,89.39 281.57,89.82 279.87,90.26 278.20,90.72 276.55,91.18 274.93,91.66 273.33,92.15 271.76,92.64 270.20,93.15 268.67,93.66 267.15,94.19 265.66,94.72 264.18,95.26 262.71,95.81 261.27,96.36 259.83,96.92 258.41,97.48 257.00,98.05 255.60,98.63 254.21,99.21 252.83,99.79 251.45,100.37 250.09,100.96 248.72,101.55 247.36,102.14 246.01,102.74 244.65,103.33 243.30,103.92 241.94,104.52 240.58,105.11 239.22,105.70 237.86,106.29 236.49,106.88 235.12,107.47 233.74,108.05 232.35,108.63 230.95,109.20 229.54,109.77 228.12,110.34 226.68,110.89 225.23,111.45 223.77,111.99 222.29,112.53 220.79,113.07 219.28,113.59 217.75,114.11 216.19,114.61 214.62,115.11 213.02,115.60 211.40,116.07 209.75,116.54 208.08,116.99 206.38,117.44 204.65,117.87 202.89,118.28 201.10,118.69 199.28,119.08 197.43,119.45 195.54,119.81 193.62,120.16 191.67,120.49 189.67,120.80 187.64,121.10 185.57,121.38 183.46,121.64 181.30,121.89 179.11,122.11 176.87,122.32 174.59,122.50 172.26,122.67 169.88,122.82 167.45,122.94 164.98,123.04 162.45,123.12 159.88,123.18 157.25,123.22 154.57,123.23 '/>\n<polyline clip-path='url(#a9760bd8-2800-4574-8a94-eac1128d3f26)' style='stroke-width: 1.07; stroke: none; fill: #4AB276; fill-opacity: 0.50;' points='154.57,101.47 157.25,101.47 159.88,101.45 162.45,101.43 164.98,101.39 167.45,101.34 169.88,101.29 172.26,101.22 174.59,101.15 176.87,101.07 179.11,100.97 181.30,100.87 183.46,100.77 185.57,100.65 187.64,100.52 189.67,100.39 191.67,100.25 193.62,100.11 195.54,99.95 197.43,99.79 199.28,99.62 201.10,99.45 202.89,99.27 204.65,99.08 206.38,98.89 208.08,98.70 209.75,98.49 211.40,98.29 213.02,98.07 214.62,97.86 216.19,97.64 217.75,97.41 219.28,97.18 220.79,96.95 222.29,96.71 223.77,96.47 225.23,96.23 226.68,95.98 228.12,95.73 229.54,95.48 230.95,95.23 232.35,94.97 233.74,94.72 235.12,94.46 236.49,94.20 237.86,93.93 239.22,93.67 240.58,93.41 241.94,93.14 243.30,92.88 244.65,92.62 246.01,92.35 247.36,92.09 248.72,91.82 250.09,91.56 251.45,91.30 252.83,91.04 254.21,90.78 255.60,90.52 257.00,90.27 258.41,90.01 259.83,89.76 261.27,89.51 262.71,89.27 264.18,89.02 265.66,88.78 267.15,88.55 268.67,88.31 270.20,88.08 271.76,87.86 273.33,87.64 274.93,87.42 276.55,87.21 278.20,87.00 279.87,86.80 281.57,86.60 283.30,86.41 285.06,86.23 286.85,86.05 288.67,85.87 290.52,85.70 292.40,85.54 294.33,85.39 296.28,85.24 298.28,85.10 300.31,84.97 302.38,84.85 304.49,84.73 306.64,84.62 308.84,84.52 311.08,84.43 313.36,84.35 315.69,84.27 318.07,84.21 320.49,84.15 322.97,84.11 325.49,84.07 328.07,84.04 330.70,84.03 333.38,84.02 333.38,82.59 330.70,82.59 328.07,82.61 325.49,82.63 322.97,82.67 320.49,82.72 318.07,82.77 315.69,82.84 313.36,82.91 311.08,82.99 308.84,83.09 306.64,83.19 304.49,83.29 302.38,83.41 300.31,83.54 298.28,83.67 296.28,83.81 294.33,83.95 292.40,84.11 290.52,84.27 288.67,84.44 286.85,84.61 285.06,84.79 283.30,84.98 281.57,85.17 279.87,85.36 278.20,85.57 276.55,85.77 274.93,85.99 273.33,86.20 271.76,86.42 270.20,86.65 268.67,86.88 267.15,87.11 265.66,87.35 264.18,87.59 262.71,87.83 261.27,88.08 259.83,88.33 258.41,88.58 257.00,88.83 255.60,89.09 254.21,89.34 252.83,89.60 251.45,89.86 250.09,90.13 248.72,90.39 247.36,90.65 246.01,90.92 244.65,91.18 243.30,91.44 241.94,91.71 240.58,91.97 239.22,92.24 237.86,92.50 236.49,92.76 235.12,93.02 233.74,93.28 232.35,93.54 230.95,93.79 229.54,94.05 228.12,94.30 226.68,94.55 225.23,94.79 223.77,95.04 222.29,95.28 220.79,95.51 219.28,95.75 217.75,95.98 216.19,96.20 214.62,96.42 213.02,96.64 211.40,96.85 209.75,97.06 208.08,97.26 206.38,97.46 204.65,97.65 202.89,97.83 201.10,98.01 199.28,98.19 197.43,98.36 195.54,98.52 193.62,98.67 191.67,98.82 189.67,98.96 187.64,99.09 185.57,99.21 183.46,99.33 181.30,99.44 179.11,99.54 176.87,99.63 174.59,99.71 172.26,99.79 169.88,99.85 167.45,99.91 164.98,99.95 162.45,99.99 159.88,100.02 157.25,100.03 154.57,100.04 '/>\n<polyline clip-path='url(#a9760bd8-2800-4574-8a94-eac1128d3f26)' style='stroke-width: 1.07; stroke: none; fill: #4AB276; fill-opacity: 0.50;' points='154.57,82.59 157.25,82.59 159.88,82.59 162.45,82.59 164.98,82.59 167.45,82.59 169.88,82.59 172.26,82.59 174.59,82.59 176.87,82.59 179.11,82.59 181.30,82.59 183.46,82.59 185.57,82.59 187.64,82.59 189.67,82.59 191.67,82.59 193.62,82.59 195.54,82.59 197.43,82.59 199.28,82.59 201.10,82.59 202.89,82.59 204.65,82.59 206.38,82.59 208.08,82.59 209.75,82.59 211.40,82.59 213.02,82.59 214.62,82.59 216.19,82.59 217.75,82.59 219.28,82.59 220.79,82.59 222.29,82.59 223.77,82.59 225.23,82.59 226.68,82.59 228.12,82.59 229.54,82.59 230.95,82.59 232.35,82.59 233.74,82.59 235.12,82.59 236.49,82.59 237.86,82.59 239.22,82.59 240.58,82.59 241.94,82.59 243.30,82.59 244.65,82.59 246.01,82.59 247.36,82.59 248.72,82.59 250.09,82.59 251.45,82.59 252.83,82.59 254.21,82.59 255.60,82.59 257.00,82.59 258.41,82.59 259.83,82.59 261.27,82.59 262.71,82.59 264.18,82.59 265.66,82.59 267.15,82.59 268.67,82.59 270.20,82.59 271.76,82.59 273.33,82.59 274.93,82.59 276.55,82.59 278.20,82.59 279.87,82.59 281.57,82.59 283.30,82.59 285.06,82.59 286.85,82.59 288.67,82.59 290.52,82.59 292.40,82.59 294.33,82.59 296.28,82.59 298.28,82.59 300.31,82.59 302.38,82.59 304.49,82.59 306.64,82.59 308.84,82.59 311.08,82.59 313.36,82.59 315.69,82.59 318.07,82.59 320.49,82.59 322.97,82.59 325.49,82.59 328.07,82.59 330.70,82.59 333.38,82.59 333.38,35.19 330.70,35.19 328.07,35.19 325.49,35.19 322.97,35.19 320.49,35.19 318.07,35.19 315.69,35.19 313.36,35.19 311.08,35.19 308.84,35.19 306.64,35.19 304.49,35.19 302.38,35.19 300.31,35.19 298.28,35.19 296.28,35.19 294.33,35.19 292.40,35.19 290.52,35.19 288.67,35.19 286.85,35.19 285.06,35.19 283.30,35.19 281.57,35.19 279.87,35.19 278.20,35.19 276.55,35.19 274.93,35.19 273.33,35.19 271.76,35.19 270.20,35.19 268.67,35.19 267.15,35.19 265.66,35.19 264.18,35.19 262.71,35.19 261.27,35.19 259.83,35.19 258.41,35.19 257.00,35.19 255.60,35.19 254.21,35.19 252.83,35.19 251.45,35.19 250.09,35.19 248.72,35.19 247.36,35.19 246.01,35.19 244.65,35.19 243.30,35.19 241.94,35.19 240.58,35.19 239.22,35.19 237.86,35.19 236.49,35.19 235.12,35.19 233.74,35.19 232.35,35.19 230.95,35.19 229.54,35.19 228.12,35.19 226.68,35.19 225.23,35.19 223.77,35.19 222.29,35.19 220.79,35.19 219.28,35.19 217.75,35.19 216.19,35.19 214.62,35.19 213.02,35.19 211.40,35.19 209.75,35.19 208.08,35.19 206.38,35.19 204.65,35.19 202.89,35.19 201.10,35.19 199.28,35.19 197.43,35.19 195.54,35.19 193.62,35.19 191.67,35.19 189.67,35.19 187.64,35.19 185.57,35.19 183.46,35.19 181.30,35.19 179.11,35.19 176.87,35.19 174.59,35.19 172.26,35.19 169.88,35.19 167.45,35.19 164.98,35.19 162.45,35.19 159.88,35.19 157.25,35.19 154.57,35.19 '/>\n<polyline clip-path='url(#a9760bd8-2800-4574-8a94-eac1128d3f26)' style='stroke-width: 1.07; stroke: #DDDDDD; fill: #F6F6F6;' points='124.77,261.10 164.50,261.10 164.50,123.23 124.77,123.23 '/>\n<polyline clip-path='url(#a9760bd8-2800-4574-8a94-eac1128d3f26)' style='stroke-width: 1.07; stroke: #DDDDDD; fill: #F6F6F6;' points='124.77,112.96 164.50,112.96 164.50,100.04 124.77,100.04 '/>\n<polyline clip-path='url(#a9760bd8-2800-4574-8a94-eac1128d3f26)' style='stroke-width: 1.07; stroke: #DDDDDD; fill: #F6F6F6;' points='124.77,89.77 164.50,89.77 164.50,35.19 124.77,35.19 '/>\n<polyline clip-path='url(#a9760bd8-2800-4574-8a94-eac1128d3f26)' style='stroke-width: 1.07; stroke: #DDDDDD; fill: #F6F6F6;' points='323.45,261.10 363.18,261.10 363.18,123.23 323.45,123.23 '/>\n<polyline clip-path='url(#a9760bd8-2800-4574-8a94-eac1128d3f26)' style='stroke-width: 1.07; stroke: #DDDDDD; fill: #F6F6F6;' points='323.45,112.96 363.18,112.96 363.18,100.04 323.45,100.04 '/>\n<polyline clip-path='url(#a9760bd8-2800-4574-8a94-eac1128d3f26)' style='stroke-width: 1.07; stroke: #DDDDDD; fill: #F6F6F6;' points='323.45,89.77 363.18,89.77 363.18,35.19 323.45,35.19 '/>\n<g clip-path='url(#a9760bd8-2800-4574-8a94-eac1128d3f26)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='36.57px' style='font-size: 7.11px; fill: #444444; font-family: Arial;' y='194.67' x='126.35'>\nMainstream\n</text>\n</g>\n<g clip-path='url(#a9760bd8-2800-4574-8a94-eac1128d3f26)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='17.51px' style='font-size: 7.11px; fill: #444444; font-family: Arial;' y='109.01' x='135.88'>\nOther\n</text>\n</g>\n<g clip-path='url(#a9760bd8-2800-4574-8a94-eac1128d3f26)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='22.96px' style='font-size: 7.11px; fill: #444444; font-family: Arial;' y='64.99' x='133.16'>\nSpecial\n</text>\n</g>\n<g clip-path='url(#a9760bd8-2800-4574-8a94-eac1128d3f26)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='36.57px' style='font-size: 7.11px; fill: #444444; font-family: Arial;' y='194.67' x='325.03'>\nMainstream\n</text>\n</g>\n<g clip-path='url(#a9760bd8-2800-4574-8a94-eac1128d3f26)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='17.51px' style='font-size: 7.11px; fill: #444444; font-family: Arial;' y='109.01' x='334.56'>\nOther\n</text>\n</g>\n<g clip-path='url(#a9760bd8-2800-4574-8a94-eac1128d3f26)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='22.96px' style='font-size: 7.11px; fill: #444444; font-family: Arial;' y='64.99' x='331.83'>\nSpecial\n</text>\n</g>\n<defs>\n<clipPath id='6cfa526c-4b64-44cf-85b0-6e05464ee5cf'>\n<rect height='289.25' width='468.00' y='0.00' x='0.00'/>\n</clipPath>\n</defs>\n<g clip-path='url(#6cfa526c-4b64-44cf-85b0-6e05464ee5cf)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='5.01px' style='font-size: 8.80px; fill: #4D4D4D; font-family: Arial;' y='264.32' x='15.49'>\n0\n</text>\n</g>\n<g clip-path='url(#6cfa526c-4b64-44cf-85b0-6e05464ee5cf)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='10.01px' style='font-size: 8.80px; fill: #4D4D4D; font-family: Arial;' y='192.51' x='10.48'>\n50\n</text>\n</g>\n<g clip-path='url(#6cfa526c-4b64-44cf-85b0-6e05464ee5cf)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='15.02px' style='font-size: 8.80px; fill: #4D4D4D; font-family: Arial;' y='120.70' x='5.48'>\n100\n</text>\n</g>\n<g clip-path='url(#6cfa526c-4b64-44cf-85b0-6e05464ee5cf)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='15.02px' style='font-size: 8.80px; fill: #4D4D4D; font-family: Arial;' y='48.90' x='5.48'>\n150\n</text>\n</g>\n<polyline clip-path='url(#6cfa526c-4b64-44cf-85b0-6e05464ee5cf)' style='stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;' points='22.69,261.10 25.43,261.10 '/>\n<polyline clip-path='url(#6cfa526c-4b64-44cf-85b0-6e05464ee5cf)' style='stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;' points='22.69,189.29 25.43,189.29 '/>\n<polyline clip-path='url(#6cfa526c-4b64-44cf-85b0-6e05464ee5cf)' style='stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;' points='22.69,117.49 25.43,117.49 '/>\n<polyline clip-path='url(#6cfa526c-4b64-44cf-85b0-6e05464ee5cf)' style='stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;' points='22.69,45.68 25.43,45.68 '/>\n<polyline clip-path='url(#6cfa526c-4b64-44cf-85b0-6e05464ee5cf)' style='stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;' points='144.63,275.14 144.63,272.40 '/>\n<polyline clip-path='url(#6cfa526c-4b64-44cf-85b0-6e05464ee5cf)' style='stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;' points='343.31,275.14 343.31,272.40 '/>\n<g clip-path='url(#6cfa526c-4b64-44cf-85b0-6e05464ee5cf)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='26.51px' style='font-size: 8.80px; fill: #4D4D4D; font-family: Arial;' y='283.77' x='131.38'>\nNCY 6\n</text>\n</g>\n<g clip-path='url(#6cfa526c-4b64-44cf-85b0-6e05464ee5cf)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='26.51px' style='font-size: 8.80px; fill: #4D4D4D; font-family: Arial;' y='283.77' x='330.06'>\nNCY 7\n</text>\n</g>\n<g clip-path='url(#6cfa526c-4b64-44cf-85b0-6e05464ee5cf)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='218.98px' style='font-size: 13.20px; font-family: Arial;' y='14.79' x='25.43'>\nAggregate setting transitions: 2016/17\n</text>\n</g>\n</svg>\n","value":"#gg4clj.core.GGView{:plot-command [[:require \"ggforce\"] [:<- :foo [:data.frame {:y [:c \"Special\" \"Special\" \"Mainstream\" \"Mainstream\" \"Mainstream\" \"Other\" \"Other\" \"Other\" \"Other\" \"Mainstream\" \"Mainstream\" \"Special\" \"Special\" \"Mainstream\" \"Other\" \"Special\"], :value [:c 33 33 87 87 5 5 4 4 4 4 4 4 5 5 1 1], :setting [:c \"Special\" \"Special\" \"Mainstream\" \"Mainstream\" \"Other\" \"Other\" \"Other\" \"Other\" \"Mainstream\" \"Mainstream\" \"Special\" \"Special\" \"Mainstream\" \"Mainstream\" \"Special\" \"Special\"], :id [:c 0 0 1 1 2 2 3 3 4 4 5 5 6 6 7 7], :x [:c \"NCY 6\" \"NCY 7\" \"NCY 6\" \"NCY 7\" \"NCY 6\" \"NCY 7\" \"NCY 6\" \"NCY 7\" \"NCY 6\" \"NCY 7\" \"NCY 6\" \"NCY 7\" \"NCY 6\" \"NCY 7\" \"NCY 6\" \"NCY 7\"]}]] [:<- :palette [:c \"#999999\" \"#E69F00\" \"#56B4E9\" \"#009E73\" \"#F0E442\" \"#0072B2\" \"#D55E00\" \"#CC79A7\" \"#1b9e77\" \"#d95f02\" \"#7570b3\" \"#e7298a\"]] [:<- :palette [:c \"#4ab276\" \"#4ab276\" \"#4ab276\" \"#4ab276\" \"#4ab276\"]] [:+ [:+ [:+ [:+ [:+ [:+ [:ggplot :foo [:aes :x {:id :id, :split [:factor :y], :value :value}]] [:scale_fill_manual {:values :palette}]] [:geom_parallel_sets [:aes {:fill :setting}] {:alpha 0.5, :axis.width 0.1}]] [:geom_parallel_sets_axes {:axis.width 0.2, :fill \"#F6F6F6\", :color \"#DDDDDD\"}]] [:geom_parallel_sets_labels {:color \"#444444\", :angle 0, :size 2.5}]] [:ggtitle \"Aggregate setting transitions: 2016/17\"]] [:theme {:axis.title.x [:element_blank], :legend.position \"none\"}]]], :options {}}"}],"value":"(#gg4clj.core.GGView{:plot-command [[:require \"ggforce\"] [:<- :foo [:data.frame {:y [:c \"Mainstream\" \"Mainstream\" \"Special\" \"Special\" \"Other\" \"Mainstream\" \"Mainstream\" \"Special\" \"Other\" \"Special\" \"Mainstream\" \"Other\" \"Special\" \"Mainstream\" \"Other\" \"Other\" \"Special\" \"Other\"], :value [:c 82 82 40 40 8 8 9 9 1 1 1 1 3 3 4 4 1 1], :setting [:c \"Mainstream\" \"Mainstream\" \"Special\" \"Special\" \"Mainstream\" \"Mainstream\" \"Special\" \"Special\" \"Special\" \"Special\" \"Other\" \"Other\" \"Mainstream\" \"Mainstream\" \"Other\" \"Other\" \"Other\" \"Other\"], :id [:c 0 0 1 1 2 2 3 3 4 4 5 5 6 6 7 7 8 8], :x [:c \"NCY 6\" \"NCY 7\" \"NCY 6\" \"NCY 7\" \"NCY 6\" \"NCY 7\" \"NCY 6\" \"NCY 7\" \"NCY 6\" \"NCY 7\" \"NCY 6\" \"NCY 7\" \"NCY 6\" \"NCY 7\" \"NCY 6\" \"NCY 7\" \"NCY 6\" \"NCY 7\"]}]] [:<- :palette [:c \"#999999\" \"#E69F00\" \"#56B4E9\" \"#009E73\" \"#F0E442\" \"#0072B2\" \"#D55E00\" \"#CC79A7\" \"#1b9e77\" \"#d95f02\" \"#7570b3\" \"#e7298a\"]] [:<- :palette [:c \"#4ab276\" \"#4ab276\" \"#4ab276\" \"#4ab276\" \"#4ab276\"]] [:+ [:+ [:+ [:+ [:+ [:+ [:ggplot :foo [:aes :x {:id :id, :split [:factor :y], :value :value}]] [:scale_fill_manual {:values :palette}]] [:geom_parallel_sets [:aes {:fill :setting}] {:alpha 0.5, :axis.width 0.1}]] [:geom_parallel_sets_axes {:axis.width 0.2, :fill \"#F6F6F6\", :color \"#DDDDDD\"}]] [:geom_parallel_sets_labels {:color \"#444444\", :angle 0, :size 2.5}]] [:ggtitle \"Aggregate setting transitions: 2014/15\"]] [:theme {:axis.title.x [:element_blank], :legend.position \"none\"}]]], :options {}} #gg4clj.core.GGView{:plot-command [[:require \"ggforce\"] [:<- :foo [:data.frame {:y [:c \"Mainstream\" \"Mainstream\" \"Other\" \"Other\" \"Mainstream\" \"Special\" \"Special\" \"Special\" \"Mainstream\" \"Other\" \"Other\" \"Mainstream\" \"Special\" \"Mainstream\"], :value [:c 88 88 4 4 8 8 27 27 5 5 4 4 3 3], :setting [:c \"Mainstream\" \"Mainstream\" \"Other\" \"Other\" \"Special\" \"Special\" \"Special\" \"Special\" \"Other\" \"Other\" \"Mainstream\" \"Mainstream\" \"Mainstream\" \"Mainstream\"], :id [:c 0 0 1 1 2 2 3 3 4 4 5 5 6 6], :x [:c \"NCY 6\" \"NCY 7\" \"NCY 6\" \"NCY 7\" \"NCY 6\" \"NCY 7\" \"NCY 6\" \"NCY 7\" \"NCY 6\" \"NCY 7\" \"NCY 6\" \"NCY 7\" \"NCY 6\" \"NCY 7\"]}]] [:<- :palette [:c \"#999999\" \"#E69F00\" \"#56B4E9\" \"#009E73\" \"#F0E442\" \"#0072B2\" \"#D55E00\" \"#CC79A7\" \"#1b9e77\" \"#d95f02\" \"#7570b3\" \"#e7298a\"]] [:<- :palette [:c \"#4ab276\" \"#4ab276\" \"#4ab276\" \"#4ab276\" \"#4ab276\"]] [:+ [:+ [:+ [:+ [:+ [:+ [:ggplot :foo [:aes :x {:id :id, :split [:factor :y], :value :value}]] [:scale_fill_manual {:values :palette}]] [:geom_parallel_sets [:aes {:fill :setting}] {:alpha 0.5, :axis.width 0.1}]] [:geom_parallel_sets_axes {:axis.width 0.2, :fill \"#F6F6F6\", :color \"#DDDDDD\"}]] [:geom_parallel_sets_labels {:color \"#444444\", :angle 0, :size 2.5}]] [:ggtitle \"Aggregate setting transitions: 2015/16\"]] [:theme {:axis.title.x [:element_blank], :legend.position \"none\"}]]], :options {}} #gg4clj.core.GGView{:plot-command [[:require \"ggforce\"] [:<- :foo [:data.frame {:y [:c \"Special\" \"Special\" \"Mainstream\" \"Mainstream\" \"Mainstream\" \"Other\" \"Other\" \"Other\" \"Other\" \"Mainstream\" \"Mainstream\" \"Special\" \"Special\" \"Mainstream\" \"Other\" \"Special\"], :value [:c 33 33 87 87 5 5 4 4 4 4 4 4 5 5 1 1], :setting [:c \"Special\" \"Special\" \"Mainstream\" \"Mainstream\" \"Other\" \"Other\" \"Other\" \"Other\" \"Mainstream\" \"Mainstream\" \"Special\" \"Special\" \"Mainstream\" \"Mainstream\" \"Special\" \"Special\"], :id [:c 0 0 1 1 2 2 3 3 4 4 5 5 6 6 7 7], :x [:c \"NCY 6\" \"NCY 7\" \"NCY 6\" \"NCY 7\" \"NCY 6\" \"NCY 7\" \"NCY 6\" \"NCY 7\" \"NCY 6\" \"NCY 7\" \"NCY 6\" \"NCY 7\" \"NCY 6\" \"NCY 7\" \"NCY 6\" \"NCY 7\"]}]] [:<- :palette [:c \"#999999\" \"#E69F00\" \"#56B4E9\" \"#009E73\" \"#F0E442\" \"#0072B2\" \"#D55E00\" \"#CC79A7\" \"#1b9e77\" \"#d95f02\" \"#7570b3\" \"#e7298a\"]] [:<- :palette [:c \"#4ab276\" \"#4ab276\" \"#4ab276\" \"#4ab276\" \"#4ab276\"]] [:+ [:+ [:+ [:+ [:+ [:+ [:ggplot :foo [:aes :x {:id :id, :split [:factor :y], :value :value}]] [:scale_fill_manual {:values :palette}]] [:geom_parallel_sets [:aes {:fill :setting}] {:alpha 0.5, :axis.width 0.1}]] [:geom_parallel_sets_axes {:axis.width 0.2, :fill \"#F6F6F6\", :color \"#DDDDDD\"}]] [:geom_parallel_sets_labels {:color \"#444444\", :angle 0, :size 2.5}]] [:ggtitle \"Aggregate setting transitions: 2016/17\"]] [:theme {:axis.title.x [:element_blank], :legend.position \"none\"}]]], :options {}})"}
;; <=

;; @@
;; Calculate better confidence intervals around transport costs

(def TransportCounts
  (sc/make-ordered-ds-schema [[:state schema/Keyword]
                              [:none sc/N]
                              [:internal sc/N]
                              [:external sc/N]
                              [:none-proportion sc/R]
                              [:internal-proportion sc/R]
                              [:external-proportion sc/R]]))

(def OutputAYState
  (sc/make-ordered-ds-schema [[:calendar-year sc/N]
                              [:academic-year schema/Num]
                              [:state schema/Keyword]
                              [:mean sc/R]
                              [:std-dev sc/R]
                              [:iqr sc/N]
                              [:min sc/N]
                              [:low-ci sc/N]
                              [:q1 sc/N]
                              [:median sc/N]
                              [:q3 sc/N]
                              [:high-ci sc/N]
                              [:max sc/N]]))

(def proportion-lookup
  (->> (tu/csv-to-dataset "data/towerhamlets/transport/transport-counts.csv" TransportCounts)
     (ds/row-maps)
     (map (juxt :state identity))
     (into {})))

(defn sample-truncated-normal
  "We don't have enough information to re-create a beta-binomial distribution, so we'll sample from a normal distribution truncated at zero instead. This should be good enough for our purposes"
  [{:keys [mean std-dev]}]
  (max 0 (r/draw (r/normal {:mu mean :sd std-dev}))))

(defn sq [x]
  (* x x))

(defn sample-binomial
  [{:keys [mean std-dev]}]
  (if (> mean 0)
    (let [p (- 1 (/ (sq std-dev) mean))]
      (if (> p 0)
        (let [n (/ mean p)]
          (r/draw (r/binomial {:n n :p p})))
        0.0))
    0.0))

(def internal-avg-cost
  (/ 2478918 419))

(def external-avg-cost
  (/ 1575773 229))

(defn sample-cost 
 [{:keys [state median std-dev]}]
 (let [n (sample-truncated-normal {:mean median :std-dev std-dev})
       {:keys [internal-proportion external-proportion] :or {internal-proportion 0 external-proportion 0}} (get proportion-lookup state)]
   (+ (* internal-proportion n internal-avg-cost)
      (* external-proportion n external-avg-cost))))


(def histogram-reducer
  (fn
    ([] (DoubleHistogram. 4))
    ([acc x]
     (doto acc (.recordValue (inc x))))
    ([hist]
     {:median (dec (.getValueAtPercentile hist 50.0))
      :mean (dec (.getMean hist))
      :std-dev (.getStdDeviation hist)
      :iqr (- (.getValueAtPercentile hist 75.0) (.getValueAtPercentile hist 25.0))
      :min (dec (.getValueAtPercentile hist 0.0))
      :max (dec (.getValueAtPercentile hist 100.0))
      :q1 (dec (.getValueAtPercentile hist 25.0))
      :q3 (dec (.getValueAtPercentile hist 75.0))
      :low-ci (dec (.getValueAtPercentile hist 2.5))
      :high-ci (dec (.getValueAtPercentile hist 97.5))})))


(defn calculate-ci
  "Given a stochastic function f, calculates the median, and 95% CI"
  [f]
  (transduce identity histogram-reducer (repeatedly 100 f)))


(for [calendar-year [2017 2018 2019 2020 2021]]
      (let [data (->> (tu/csv-to-dataset "data/towerhamlets/transport/output-ay-state.csv" OutputAYState)
                (ds/row-maps)
                (filter #(= (:calendar-year %) calendar-year)))
      f #(->> (map sample-cost data)
              (reduce +))]
  {:calendar-year calendar-year :hist (calculate-ci f)}))
;; @@
;; =>
;;; {"type":"list-like","open":"<span class='clj-lazy-seq'>(</span>","close":"<span class='clj-lazy-seq'>)</span>","separator":" ","items":[{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:calendar-year</span>","value":":calendar-year"},{"type":"html","content":"<span class='clj-long'>2017</span>","value":"2017"}],"value":"[:calendar-year 2017]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:hist</span>","value":":hist"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:min</span>","value":":min"},{"type":"html","content":"<span class='clj-double'>3966079.0</span>","value":"3966079.0"}],"value":"[:min 3966079.0]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:q1</span>","value":":q1"},{"type":"html","content":"<span class='clj-double'>3966079.0</span>","value":"3966079.0"}],"value":"[:q1 3966079.0]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:q3</span>","value":":q3"},{"type":"html","content":"<span class='clj-double'>3966079.0</span>","value":"3966079.0"}],"value":"[:q3 3966079.0]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:low-ci</span>","value":":low-ci"},{"type":"html","content":"<span class='clj-double'>3966079.0</span>","value":"3966079.0"}],"value":"[:low-ci 3966079.0]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:mean</span>","value":":mean"},{"type":"html","content":"<span class='clj-double'>3966079.0</span>","value":"3966079.0"}],"value":"[:mean 3966079.0]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:high-ci</span>","value":":high-ci"},{"type":"html","content":"<span class='clj-double'>3966079.0</span>","value":"3966079.0"}],"value":"[:high-ci 3966079.0]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:iqr</span>","value":":iqr"},{"type":"html","content":"<span class='clj-double'>0.0</span>","value":"0.0"}],"value":"[:iqr 0.0]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:median</span>","value":":median"},{"type":"html","content":"<span class='clj-double'>3966079.0</span>","value":"3966079.0"}],"value":"[:median 3966079.0]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:max</span>","value":":max"},{"type":"html","content":"<span class='clj-double'>3966079.0</span>","value":"3966079.0"}],"value":"[:max 3966079.0]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:std-dev</span>","value":":std-dev"},{"type":"html","content":"<span class='clj-double'>0.0</span>","value":"0.0"}],"value":"[:std-dev 0.0]"}],"value":"{:min 3966079.0, :q1 3966079.0, :q3 3966079.0, :low-ci 3966079.0, :mean 3966079.0, :high-ci 3966079.0, :iqr 0.0, :median 3966079.0, :max 3966079.0, :std-dev 0.0}"}],"value":"[:hist {:min 3966079.0, :q1 3966079.0, :q3 3966079.0, :low-ci 3966079.0, :mean 3966079.0, :high-ci 3966079.0, :iqr 0.0, :median 3966079.0, :max 3966079.0, :std-dev 0.0}]"}],"value":"{:calendar-year 2017, :hist {:min 3966079.0, :q1 3966079.0, :q3 3966079.0, :low-ci 3966079.0, :mean 3966079.0, :high-ci 3966079.0, :iqr 0.0, :median 3966079.0, :max 3966079.0, :std-dev 0.0}}"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:calendar-year</span>","value":":calendar-year"},{"type":"html","content":"<span class='clj-long'>2018</span>","value":"2018"}],"value":"[:calendar-year 2018]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:hist</span>","value":":hist"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:min</span>","value":":min"},{"type":"html","content":"<span class='clj-double'>4054015.0</span>","value":"4054015.0"}],"value":"[:min 4054015.0]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:q1</span>","value":":q1"},{"type":"html","content":"<span class='clj-double'>4174207.0</span>","value":"4174207.0"}],"value":"[:q1 4174207.0]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:q3</span>","value":":q3"},{"type":"html","content":"<span class='clj-double'>4251519.0</span>","value":"4251519.0"}],"value":"[:q3 4251519.0]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:low-ci</span>","value":":low-ci"},{"type":"html","content":"<span class='clj-double'>4083583.0</span>","value":"4083583.0"}],"value":"[:low-ci 4083583.0]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:mean</span>","value":":mean"},{"type":"html","content":"<span class='clj-double'>4213252.12</span>","value":"4213252.12"}],"value":"[:mean 4213252.12]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:high-ci</span>","value":":high-ci"},{"type":"html","content":"<span class='clj-double'>4351615.0</span>","value":"4351615.0"}],"value":"[:high-ci 4351615.0]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:iqr</span>","value":":iqr"},{"type":"html","content":"<span class='clj-double'>77312.0</span>","value":"77312.0"}],"value":"[:iqr 77312.0]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:median</span>","value":":median"},{"type":"html","content":"<span class='clj-double'>4205951.0</span>","value":"4205951.0"}],"value":"[:median 4205951.0]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:max</span>","value":":max"},{"type":"html","content":"<span class='clj-double'>4421759.0</span>","value":"4421759.0"}],"value":"[:max 4421759.0]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:std-dev</span>","value":":std-dev"},{"type":"html","content":"<span class='clj-double'>64355.428844702765</span>","value":"64355.428844702765"}],"value":"[:std-dev 64355.428844702765]"}],"value":"{:min 4054015.0, :q1 4174207.0, :q3 4251519.0, :low-ci 4083583.0, :mean 4213252.12, :high-ci 4351615.0, :iqr 77312.0, :median 4205951.0, :max 4421759.0, :std-dev 64355.428844702765}"}],"value":"[:hist {:min 4054015.0, :q1 4174207.0, :q3 4251519.0, :low-ci 4083583.0, :mean 4213252.12, :high-ci 4351615.0, :iqr 77312.0, :median 4205951.0, :max 4421759.0, :std-dev 64355.428844702765}]"}],"value":"{:calendar-year 2018, :hist {:min 4054015.0, :q1 4174207.0, :q3 4251519.0, :low-ci 4083583.0, :mean 4213252.12, :high-ci 4351615.0, :iqr 77312.0, :median 4205951.0, :max 4421759.0, :std-dev 64355.428844702765}}"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:calendar-year</span>","value":":calendar-year"},{"type":"html","content":"<span class='clj-long'>2019</span>","value":"2019"}],"value":"[:calendar-year 2019]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:hist</span>","value":":hist"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:min</span>","value":":min"},{"type":"html","content":"<span class='clj-double'>4179327.0</span>","value":"4179327.0"}],"value":"[:min 4179327.0]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:q1</span>","value":":q1"},{"type":"html","content":"<span class='clj-double'>4321663.0</span>","value":"4321663.0"}],"value":"[:q1 4321663.0]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:q3</span>","value":":q3"},{"type":"html","content":"<span class='clj-double'>4447615.0</span>","value":"4447615.0"}],"value":"[:q3 4447615.0]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:low-ci</span>","value":":low-ci"},{"type":"html","content":"<span class='clj-double'>4214143.0</span>","value":"4214143.0"}],"value":"[:low-ci 4214143.0]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:mean</span>","value":":mean"},{"type":"html","content":"<span class='clj-double'>4390667.8</span>","value":"4390667.8"}],"value":"[:mean 4390667.8]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:high-ci</span>","value":":high-ci"},{"type":"html","content":"<span class='clj-double'>4624767.0</span>","value":"4624767.0"}],"value":"[:high-ci 4624767.0]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:iqr</span>","value":":iqr"},{"type":"html","content":"<span class='clj-double'>125952.0</span>","value":"125952.0"}],"value":"[:iqr 125952.0]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:median</span>","value":":median"},{"type":"html","content":"<span class='clj-double'>4374911.0</span>","value":"4374911.0"}],"value":"[:median 4374911.0]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:max</span>","value":":max"},{"type":"html","content":"<span class='clj-double'>4658815.0</span>","value":"4658815.0"}],"value":"[:max 4658815.0]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:std-dev</span>","value":":std-dev"},{"type":"html","content":"<span class='clj-double'>96932.00831593244</span>","value":"96932.00831593244"}],"value":"[:std-dev 96932.00831593244]"}],"value":"{:min 4179327.0, :q1 4321663.0, :q3 4447615.0, :low-ci 4214143.0, :mean 4390667.8, :high-ci 4624767.0, :iqr 125952.0, :median 4374911.0, :max 4658815.0, :std-dev 96932.00831593244}"}],"value":"[:hist {:min 4179327.0, :q1 4321663.0, :q3 4447615.0, :low-ci 4214143.0, :mean 4390667.8, :high-ci 4624767.0, :iqr 125952.0, :median 4374911.0, :max 4658815.0, :std-dev 96932.00831593244}]"}],"value":"{:calendar-year 2019, :hist {:min 4179327.0, :q1 4321663.0, :q3 4447615.0, :low-ci 4214143.0, :mean 4390667.8, :high-ci 4624767.0, :iqr 125952.0, :median 4374911.0, :max 4658815.0, :std-dev 96932.00831593244}}"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:calendar-year</span>","value":":calendar-year"},{"type":"html","content":"<span class='clj-long'>2020</span>","value":"2020"}],"value":"[:calendar-year 2020]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:hist</span>","value":":hist"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:min</span>","value":":min"},{"type":"html","content":"<span class='clj-double'>4283647.0</span>","value":"4283647.0"}],"value":"[:min 4283647.0]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:q1</span>","value":":q1"},{"type":"html","content":"<span class='clj-double'>4456447.0</span>","value":"4456447.0"}],"value":"[:q1 4456447.0]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:q3</span>","value":":q3"},{"type":"html","content":"<span class='clj-double'>4560895.0</span>","value":"4560895.0"}],"value":"[:q3 4560895.0]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:low-ci</span>","value":":low-ci"},{"type":"html","content":"<span class='clj-double'>4307199.0</span>","value":"4307199.0"}],"value":"[:low-ci 4307199.0]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:mean</span>","value":":mean"},{"type":"html","content":"<span class='clj-double'>4507094.04</span>","value":"4507094.04"}],"value":"[:mean 4507094.04]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:high-ci</span>","value":":high-ci"},{"type":"html","content":"<span class='clj-double'>4674559.0</span>","value":"4674559.0"}],"value":"[:high-ci 4674559.0]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:iqr</span>","value":":iqr"},{"type":"html","content":"<span class='clj-double'>104448.0</span>","value":"104448.0"}],"value":"[:iqr 104448.0]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:median</span>","value":":median"},{"type":"html","content":"<span class='clj-double'>4504063.0</span>","value":"4504063.0"}],"value":"[:median 4504063.0]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:max</span>","value":":max"},{"type":"html","content":"<span class='clj-double'>4718591.0</span>","value":"4718591.0"}],"value":"[:max 4718591.0]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:std-dev</span>","value":":std-dev"},{"type":"html","content":"<span class='clj-double'>85946.77381937265</span>","value":"85946.77381937265"}],"value":"[:std-dev 85946.77381937265]"}],"value":"{:min 4283647.0, :q1 4456447.0, :q3 4560895.0, :low-ci 4307199.0, :mean 4507094.04, :high-ci 4674559.0, :iqr 104448.0, :median 4504063.0, :max 4718591.0, :std-dev 85946.77381937265}"}],"value":"[:hist {:min 4283647.0, :q1 4456447.0, :q3 4560895.0, :low-ci 4307199.0, :mean 4507094.04, :high-ci 4674559.0, :iqr 104448.0, :median 4504063.0, :max 4718591.0, :std-dev 85946.77381937265}]"}],"value":"{:calendar-year 2020, :hist {:min 4283647.0, :q1 4456447.0, :q3 4560895.0, :low-ci 4307199.0, :mean 4507094.04, :high-ci 4674559.0, :iqr 104448.0, :median 4504063.0, :max 4718591.0, :std-dev 85946.77381937265}}"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:calendar-year</span>","value":":calendar-year"},{"type":"html","content":"<span class='clj-long'>2021</span>","value":"2021"}],"value":"[:calendar-year 2021]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:hist</span>","value":":hist"},{"type":"list-like","open":"<span class='clj-map'>{</span>","close":"<span class='clj-map'>}</span>","separator":", ","items":[{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:min</span>","value":":min"},{"type":"html","content":"<span class='clj-double'>4358911.0</span>","value":"4358911.0"}],"value":"[:min 4358911.0]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:q1</span>","value":":q1"},{"type":"html","content":"<span class='clj-double'>4622335.0</span>","value":"4622335.0"}],"value":"[:q1 4622335.0]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:q3</span>","value":":q3"},{"type":"html","content":"<span class='clj-double'>4785919.0</span>","value":"4785919.0"}],"value":"[:q3 4785919.0]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:low-ci</span>","value":":low-ci"},{"type":"html","content":"<span class='clj-double'>4392447.0</span>","value":"4392447.0"}],"value":"[:low-ci 4392447.0]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:mean</span>","value":":mean"},{"type":"html","content":"<span class='clj-double'>4705760.28</span>","value":"4705760.28"}],"value":"[:mean 4705760.28]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:high-ci</span>","value":":high-ci"},{"type":"html","content":"<span class='clj-double'>4975615.0</span>","value":"4975615.0"}],"value":"[:high-ci 4975615.0]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:iqr</span>","value":":iqr"},{"type":"html","content":"<span class='clj-double'>163584.0</span>","value":"163584.0"}],"value":"[:iqr 163584.0]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:median</span>","value":":median"},{"type":"html","content":"<span class='clj-double'>4713215.0</span>","value":"4713215.0"}],"value":"[:median 4713215.0]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:max</span>","value":":max"},{"type":"html","content":"<span class='clj-double'>5035775.0</span>","value":"5035775.0"}],"value":"[:max 5035775.0]"},{"type":"list-like","open":"","close":"","separator":" ","items":[{"type":"html","content":"<span class='clj-keyword'>:std-dev</span>","value":":std-dev"},{"type":"html","content":"<span class='clj-double'>121050.85146186124</span>","value":"121050.85146186124"}],"value":"[:std-dev 121050.85146186124]"}],"value":"{:min 4358911.0, :q1 4622335.0, :q3 4785919.0, :low-ci 4392447.0, :mean 4705760.28, :high-ci 4975615.0, :iqr 163584.0, :median 4713215.0, :max 5035775.0, :std-dev 121050.85146186124}"}],"value":"[:hist {:min 4358911.0, :q1 4622335.0, :q3 4785919.0, :low-ci 4392447.0, :mean 4705760.28, :high-ci 4975615.0, :iqr 163584.0, :median 4713215.0, :max 5035775.0, :std-dev 121050.85146186124}]"}],"value":"{:calendar-year 2021, :hist {:min 4358911.0, :q1 4622335.0, :q3 4785919.0, :low-ci 4392447.0, :mean 4705760.28, :high-ci 4975615.0, :iqr 163584.0, :median 4713215.0, :max 5035775.0, :std-dev 121050.85146186124}}"}],"value":"({:calendar-year 2017, :hist {:min 3966079.0, :q1 3966079.0, :q3 3966079.0, :low-ci 3966079.0, :mean 3966079.0, :high-ci 3966079.0, :iqr 0.0, :median 3966079.0, :max 3966079.0, :std-dev 0.0}} {:calendar-year 2018, :hist {:min 4054015.0, :q1 4174207.0, :q3 4251519.0, :low-ci 4083583.0, :mean 4213252.12, :high-ci 4351615.0, :iqr 77312.0, :median 4205951.0, :max 4421759.0, :std-dev 64355.428844702765}} {:calendar-year 2019, :hist {:min 4179327.0, :q1 4321663.0, :q3 4447615.0, :low-ci 4214143.0, :mean 4390667.8, :high-ci 4624767.0, :iqr 125952.0, :median 4374911.0, :max 4658815.0, :std-dev 96932.00831593244}} {:calendar-year 2020, :hist {:min 4283647.0, :q1 4456447.0, :q3 4560895.0, :low-ci 4307199.0, :mean 4507094.04, :high-ci 4674559.0, :iqr 104448.0, :median 4504063.0, :max 4718591.0, :std-dev 85946.77381937265}} {:calendar-year 2021, :hist {:min 4358911.0, :q1 4622335.0, :q3 4785919.0, :low-ci 4392447.0, :mean 4705760.28, :high-ci 4975615.0, :iqr 163584.0, :median 4713215.0, :max 5035775.0, :std-dev 121050.85146186124}})"}
;; <=

;; @@
(defn ci-across-years
  [data from until]
  (map #(confidence-interval data %) (range from until)))

(def joiner-result (ci-across-years (joiner-rate) 2013 2017))

(def leaver-result (ci-across-years (leaver-rate) 2013 2017))

(def mover-result (ci-across-years (mover-rate) 2013 2017))

(defn pull-year
  [data pos]
  (->> (nth data pos)
       (map (fn [[a b c]] (if (zero? b) [a :NA :NA] [a b c])))
       (apply mapv vector)))

(defn ribbon-plot2
  [data title]
  (let [year1 (pull-year data 0)
        year2 (pull-year data 1)
        year3 (pull-year data 2)
        year4 (pull-year data 3)
      	[ay upper1 lower1] year1
        [_ upper2 lower2] year2
        [_ upper3 lower3] year3
        [_ upper4 lower4] year4]
  (gg4clj/view [[:<- :foo (gg4clj/data-frame 
                            {:year ay :upper1 upper1 :lower1 lower1 :upper2 upper2 :lower2 lower2 :upper3 upper3 :lower3 lower3 :upper4 upper4 :lower4 lower4})]
                (gg4clj/r+ 
                  [:ggplot :foo [:aes :year :upper1]]
                  [:geom_ribbon [:aes {:ymax :upper1 :ymin :lower1}] {:fill "#1b9e77" :alpha 0.2}]
                  [:geom_ribbon [:aes {:ymax :upper2 :ymin :lower2}] {:fill "#d95f02" :alpha 0.2}]
                  [:geom_ribbon [:aes {:ymax :upper3 :ymin :lower3}] {:fill "#7570b3" :alpha 0.2}]
                  [:geom_ribbon [:aes {:ymax :upper4 :ymin :lower4}] {:fill "#e7298a" :alpha 0.2}]
                  [:ggtitle title]
                  [:xlab "NCY"]
                  [:ylab "95% probability interval"]
                  [:scale_x_continuous {:breaks [:seq -5 15 {:by 2}]}]
                  [:scale_fill_manual {:name "Years" :values [:c "red" "yellow" "grey" "blue"] :labels [:c "2013" "2014" "2015" "2016"]}]
                  [:scale_colour_manual "" {:values "blue"}]
                  [:theme])])))

(ribbon-plot2 mover-result "Mover probability by academic year")

(ribbon-plot2 leaver-result "Leaver probability by academic year")

(ribbon-plot2 joiner-result "Joiner probability by academic year")
;; @@
;; =>
;;; {"type":"html","content":"<?xml version='1.0' encoding='UTF-8'?>\n<svg viewBox='0 0 468.00 289.25' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns='http://www.w3.org/2000/svg'>\n<defs>\n<style type='text/css'>\n\n    line, polyline, path, rect, circle {\n      fill: none;\n      stroke: #000000;\n      stroke-linecap: round;\n      stroke-linejoin: round;\n      stroke-miterlimit: 10.00;\n    }\n  \n</style>\n</defs>\n<rect style='stroke: none; fill: #FFFFFF;' height='100%' width='100%'/>\n<rect style='stroke-width: 1.07; stroke: #FFFFFF; fill: #FFFFFF;' height='289.25' width='468.00' y='0.00' x='0.00'/>\n<defs>\n<clipPath id='3a9fb933-701d-46a8-9fef-dec469bb6631'>\n<rect height='235.00' width='408.70' y='23.90' x='53.82'/>\n</clipPath>\n</defs>\n<rect clip-path='url(#3a9fb933-701d-46a8-9fef-dec469bb6631)' style='stroke-width: 1.07; stroke: none; fill: #EBEBEB;' height='235.00' width='408.70' y='23.90' x='53.82'/>\n<polyline clip-path='url(#3a9fb933-701d-46a8-9fef-dec469bb6631)' style='stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;' points='53.82,218.44 462.52,218.44 '/>\n<polyline clip-path='url(#3a9fb933-701d-46a8-9fef-dec469bb6631)' style='stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;' points='53.82,158.79 462.52,158.79 '/>\n<polyline clip-path='url(#3a9fb933-701d-46a8-9fef-dec469bb6631)' style='stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;' points='53.82,99.15 462.52,99.15 '/>\n<polyline clip-path='url(#3a9fb933-701d-46a8-9fef-dec469bb6631)' style='stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;' points='53.82,39.50 462.52,39.50 '/>\n<polyline clip-path='url(#3a9fb933-701d-46a8-9fef-dec469bb6631)' style='stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;' points='60.02,258.90 60.02,23.90 '/>\n<polyline clip-path='url(#3a9fb933-701d-46a8-9fef-dec469bb6631)' style='stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;' points='84.79,258.90 84.79,23.90 '/>\n<polyline clip-path='url(#3a9fb933-701d-46a8-9fef-dec469bb6631)' style='stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;' points='109.56,258.90 109.56,23.90 '/>\n<polyline clip-path='url(#3a9fb933-701d-46a8-9fef-dec469bb6631)' style='stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;' points='134.32,258.90 134.32,23.90 '/>\n<polyline clip-path='url(#3a9fb933-701d-46a8-9fef-dec469bb6631)' style='stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;' points='159.09,258.90 159.09,23.90 '/>\n<polyline clip-path='url(#3a9fb933-701d-46a8-9fef-dec469bb6631)' style='stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;' points='183.86,258.90 183.86,23.90 '/>\n<polyline clip-path='url(#3a9fb933-701d-46a8-9fef-dec469bb6631)' style='stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;' points='208.63,258.90 208.63,23.90 '/>\n<polyline clip-path='url(#3a9fb933-701d-46a8-9fef-dec469bb6631)' style='stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;' points='233.40,258.90 233.40,23.90 '/>\n<polyline clip-path='url(#3a9fb933-701d-46a8-9fef-dec469bb6631)' style='stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;' points='258.17,258.90 258.17,23.90 '/>\n<polyline clip-path='url(#3a9fb933-701d-46a8-9fef-dec469bb6631)' style='stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;' points='282.94,258.90 282.94,23.90 '/>\n<polyline clip-path='url(#3a9fb933-701d-46a8-9fef-dec469bb6631)' style='stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;' points='307.71,258.90 307.71,23.90 '/>\n<polyline clip-path='url(#3a9fb933-701d-46a8-9fef-dec469bb6631)' style='stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;' points='332.48,258.90 332.48,23.90 '/>\n<polyline clip-path='url(#3a9fb933-701d-46a8-9fef-dec469bb6631)' style='stroke-width: 0.53; stroke: #FFFFFF; stroke-linecap: butt;' points='344.87,258.90 344.87,23.90 '/>\n<polyline clip-path='url(#3a9fb933-701d-46a8-9fef-dec469bb6631)' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' points='53.82,248.26 462.52,248.26 '/>\n<polyline clip-path='url(#3a9fb933-701d-46a8-9fef-dec469bb6631)' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' points='53.82,188.61 462.52,188.61 '/>\n<polyline clip-path='url(#3a9fb933-701d-46a8-9fef-dec469bb6631)' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' points='53.82,128.97 462.52,128.97 '/>\n<polyline clip-path='url(#3a9fb933-701d-46a8-9fef-dec469bb6631)' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' points='53.82,69.32 462.52,69.32 '/>\n<polyline clip-path='url(#3a9fb933-701d-46a8-9fef-dec469bb6631)' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' points='72.40,258.90 72.40,23.90 '/>\n<polyline clip-path='url(#3a9fb933-701d-46a8-9fef-dec469bb6631)' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' points='97.17,258.90 97.17,23.90 '/>\n<polyline clip-path='url(#3a9fb933-701d-46a8-9fef-dec469bb6631)' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' points='121.94,258.90 121.94,23.90 '/>\n<polyline clip-path='url(#3a9fb933-701d-46a8-9fef-dec469bb6631)' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' points='146.71,258.90 146.71,23.90 '/>\n<polyline clip-path='url(#3a9fb933-701d-46a8-9fef-dec469bb6631)' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' points='171.48,258.90 171.48,23.90 '/>\n<polyline clip-path='url(#3a9fb933-701d-46a8-9fef-dec469bb6631)' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' points='196.25,258.90 196.25,23.90 '/>\n<polyline clip-path='url(#3a9fb933-701d-46a8-9fef-dec469bb6631)' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' points='221.02,258.90 221.02,23.90 '/>\n<polyline clip-path='url(#3a9fb933-701d-46a8-9fef-dec469bb6631)' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' points='245.79,258.90 245.79,23.90 '/>\n<polyline clip-path='url(#3a9fb933-701d-46a8-9fef-dec469bb6631)' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' points='270.56,258.90 270.56,23.90 '/>\n<polyline clip-path='url(#3a9fb933-701d-46a8-9fef-dec469bb6631)' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' points='295.33,258.90 295.33,23.90 '/>\n<polyline clip-path='url(#3a9fb933-701d-46a8-9fef-dec469bb6631)' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt;' points='320.10,258.90 320.10,23.90 '/>\n<polyline clip-path='url(#3a9fb933-701d-46a8-9fef-dec469bb6631)' style='stroke-width: 1.07; stroke: none; fill: #1B9E77; fill-opacity: 0.20;' points='109.56,248.18 121.94,226.41 134.32,127.68 146.71,130.05 159.09,178.58 171.48,202.78 183.86,230.26 196.25,216.31 208.63,225.99 221.02,218.84 233.40,235.62 245.79,238.50 258.17,229.65 270.56,236.07 282.94,243.43 295.33,248.14 295.33,231.65 282.94,209.46 270.56,191.78 258.17,177.07 245.79,196.61 233.40,189.65 221.02,159.30 208.63,173.76 196.25,158.99 183.86,184.20 171.48,137.97 159.09,105.11 146.71,39.91 134.32,38.18 121.94,182.15 109.56,237.64 '/>\n<polyline clip-path='url(#3a9fb933-701d-46a8-9fef-dec469bb6631)' style='stroke-width: 1.07; stroke: none; fill: #D95F02; fill-opacity: 0.20;' points='121.94,217.35 134.32,164.42 146.71,124.27 159.09,170.43 171.48,182.05 183.86,197.30 196.25,200.05 208.63,216.98 221.02,223.53 233.40,200.37 245.79,238.50 258.17,233.40 270.56,230.28 282.94,241.55 295.33,243.88 307.71,247.43 320.10,247.55 320.10,232.09 307.71,229.24 295.33,213.08 282.94,205.96 270.56,179.47 258.17,186.29 245.79,196.61 233.40,129.36 221.02,169.86 208.63,160.85 196.25,133.87 183.86,129.79 171.48,110.51 159.09,95.32 146.71,34.58 134.32,89.52 121.94,169.49 '/>\n<polyline clip-path='url(#3a9fb933-701d-46a8-9fef-dec469bb6631)' style='stroke-width: 1.07; stroke: none; fill: #D95F02; fill-opacity: 0.20;' points='382.02,248.22 382.02,242.82 '/>\n<polyline clip-path='url(#3a9fb933-701d-46a8-9fef-dec469bb6631)' style='stroke-width: 1.07; stroke: none; fill: #7570B3; fill-opacity: 0.20;' points='109.56,248.19 121.94,211.75 134.32,161.14 146.71,144.08 159.09,168.01 171.48,179.46 183.86,220.22 196.25,230.63 208.63,230.61 221.02,237.85 233.40,226.81 245.79,236.73 258.17,227.62 270.56,231.10 282.94,231.12 295.33,245.95 307.71,246.35 320.10,248.19 320.10,238.11 307.71,226.00 295.33,221.29 282.94,182.68 270.56,182.61 258.17,174.80 245.79,194.80 233.40,176.51 221.02,200.02 208.63,185.44 196.25,185.50 183.86,169.90 171.48,108.59 159.09,93.58 146.71,62.31 134.32,88.42 121.94,161.59 109.56,238.64 '/>\n<polyline clip-path='url(#3a9fb933-701d-46a8-9fef-dec469bb6631)' style='stroke-width: 1.07; stroke: none; fill: #7570B3; fill-opacity: 0.20;' points='357.25,247.77 369.63,248.22 369.63,242.25 357.25,237.15 '/>\n<polyline clip-path='url(#3a9fb933-701d-46a8-9fef-dec469bb6631)' style='stroke-width: 1.07; stroke: none; fill: #E7298A; fill-opacity: 0.20;' points='109.56,248.19 121.94,233.64 134.32,186.28 146.71,143.02 159.09,202.65 171.48,216.47 183.86,202.73 196.25,234.29 208.63,217.06 221.02,227.68 233.40,216.84 245.79,245.82 258.17,222.98 270.56,212.49 282.94,236.69 295.33,226.98 307.71,244.98 320.10,243.89 332.48,248.19 344.87,245.69 357.25,246.98 369.63,247.84 382.02,248.22 382.02,242.86 369.63,238.62 357.25,233.39 344.87,227.58 332.48,238.95 320.10,220.72 307.71,221.92 295.33,177.08 282.94,194.62 270.56,148.32 258.17,168.10 245.79,219.76 233.40,160.46 221.02,179.42 208.63,161.07 196.25,194.81 183.86,142.40 171.48,164.95 159.09,144.20 146.71,63.81 134.32,123.82 121.94,199.32 109.56,238.61 '/>\n<defs>\n<clipPath id='e9ff2e8d-f9fb-40e6-b8c7-975ddc8ee51a'>\n<rect height='289.25' width='468.00' y='0.00' x='0.00'/>\n</clipPath>\n</defs>\n<g clip-path='url(#e9ff2e8d-f9fb-40e6-b8c7-975ddc8ee51a)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='27.53px' style='font-size: 8.80px; fill: #4D4D4D; font-family: Arial;' y='251.48' x='21.37'>\n0.0000\n</text>\n</g>\n<g clip-path='url(#e9ff2e8d-f9fb-40e6-b8c7-975ddc8ee51a)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='27.53px' style='font-size: 8.80px; fill: #4D4D4D; font-family: Arial;' y='191.83' x='21.37'>\n0.0025\n</text>\n</g>\n<g clip-path='url(#e9ff2e8d-f9fb-40e6-b8c7-975ddc8ee51a)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='27.53px' style='font-size: 8.80px; fill: #4D4D4D; font-family: Arial;' y='132.19' x='21.37'>\n0.0050\n</text>\n</g>\n<g clip-path='url(#e9ff2e8d-f9fb-40e6-b8c7-975ddc8ee51a)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='27.53px' style='font-size: 8.80px; fill: #4D4D4D; font-family: Arial;' y='72.54' x='21.37'>\n0.0075\n</text>\n</g>\n<polyline clip-path='url(#e9ff2e8d-f9fb-40e6-b8c7-975ddc8ee51a)' style='stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;' points='51.08,248.26 53.82,248.26 '/>\n<polyline clip-path='url(#e9ff2e8d-f9fb-40e6-b8c7-975ddc8ee51a)' style='stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;' points='51.08,188.61 53.82,188.61 '/>\n<polyline clip-path='url(#e9ff2e8d-f9fb-40e6-b8c7-975ddc8ee51a)' style='stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;' points='51.08,128.97 53.82,128.97 '/>\n<polyline clip-path='url(#e9ff2e8d-f9fb-40e6-b8c7-975ddc8ee51a)' style='stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;' points='51.08,69.32 53.82,69.32 '/>\n<polyline clip-path='url(#e9ff2e8d-f9fb-40e6-b8c7-975ddc8ee51a)' style='stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;' points='72.40,261.64 72.40,258.90 '/>\n<polyline clip-path='url(#e9ff2e8d-f9fb-40e6-b8c7-975ddc8ee51a)' style='stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;' points='97.17,261.64 97.17,258.90 '/>\n<polyline clip-path='url(#e9ff2e8d-f9fb-40e6-b8c7-975ddc8ee51a)' style='stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;' points='121.94,261.64 121.94,258.90 '/>\n<polyline clip-path='url(#e9ff2e8d-f9fb-40e6-b8c7-975ddc8ee51a)' style='stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;' points='146.71,261.64 146.71,258.90 '/>\n<polyline clip-path='url(#e9ff2e8d-f9fb-40e6-b8c7-975ddc8ee51a)' style='stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;' points='171.48,261.64 171.48,258.90 '/>\n<polyline clip-path='url(#e9ff2e8d-f9fb-40e6-b8c7-975ddc8ee51a)' style='stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;' points='196.25,261.64 196.25,258.90 '/>\n<polyline clip-path='url(#e9ff2e8d-f9fb-40e6-b8c7-975ddc8ee51a)' style='stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;' points='221.02,261.64 221.02,258.90 '/>\n<polyline clip-path='url(#e9ff2e8d-f9fb-40e6-b8c7-975ddc8ee51a)' style='stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;' points='245.79,261.64 245.79,258.90 '/>\n<polyline clip-path='url(#e9ff2e8d-f9fb-40e6-b8c7-975ddc8ee51a)' style='stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;' points='270.56,261.64 270.56,258.90 '/>\n<polyline clip-path='url(#e9ff2e8d-f9fb-40e6-b8c7-975ddc8ee51a)' style='stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;' points='295.33,261.64 295.33,258.90 '/>\n<polyline clip-path='url(#e9ff2e8d-f9fb-40e6-b8c7-975ddc8ee51a)' style='stroke-width: 1.07; stroke: #333333; stroke-linecap: butt;' points='320.10,261.64 320.10,258.90 '/>\n<g clip-path='url(#e9ff2e8d-f9fb-40e6-b8c7-975ddc8ee51a)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='8.00px' style='font-size: 8.80px; fill: #4D4D4D; font-family: Arial;' y='270.27' x='68.40'>\n-5\n</text>\n</g>\n<g clip-path='url(#e9ff2e8d-f9fb-40e6-b8c7-975ddc8ee51a)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='8.00px' style='font-size: 8.80px; fill: #4D4D4D; font-family: Arial;' y='270.27' x='93.17'>\n-3\n</text>\n</g>\n<g clip-path='url(#e9ff2e8d-f9fb-40e6-b8c7-975ddc8ee51a)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='8.00px' style='font-size: 8.80px; fill: #4D4D4D; font-family: Arial;' y='270.27' x='117.94'>\n-1\n</text>\n</g>\n<g clip-path='url(#e9ff2e8d-f9fb-40e6-b8c7-975ddc8ee51a)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='5.01px' style='font-size: 8.80px; fill: #4D4D4D; font-family: Arial;' y='270.27' x='144.21'>\n1\n</text>\n</g>\n<g clip-path='url(#e9ff2e8d-f9fb-40e6-b8c7-975ddc8ee51a)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='5.01px' style='font-size: 8.80px; fill: #4D4D4D; font-family: Arial;' y='270.27' x='168.98'>\n3\n</text>\n</g>\n<g clip-path='url(#e9ff2e8d-f9fb-40e6-b8c7-975ddc8ee51a)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='5.01px' style='font-size: 8.80px; fill: #4D4D4D; font-family: Arial;' y='270.27' x='193.75'>\n5\n</text>\n</g>\n<g clip-path='url(#e9ff2e8d-f9fb-40e6-b8c7-975ddc8ee51a)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='5.01px' style='font-size: 8.80px; fill: #4D4D4D; font-family: Arial;' y='270.27' x='218.52'>\n7\n</text>\n</g>\n<g clip-path='url(#e9ff2e8d-f9fb-40e6-b8c7-975ddc8ee51a)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='5.01px' style='font-size: 8.80px; fill: #4D4D4D; font-family: Arial;' y='270.27' x='243.28'>\n9\n</text>\n</g>\n<g clip-path='url(#e9ff2e8d-f9fb-40e6-b8c7-975ddc8ee51a)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='10.01px' style='font-size: 8.80px; fill: #4D4D4D; font-family: Arial;' y='270.27' x='265.55'>\n11\n</text>\n</g>\n<g clip-path='url(#e9ff2e8d-f9fb-40e6-b8c7-975ddc8ee51a)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='10.01px' style='font-size: 8.80px; fill: #4D4D4D; font-family: Arial;' y='270.27' x='290.32'>\n13\n</text>\n</g>\n<g clip-path='url(#e9ff2e8d-f9fb-40e6-b8c7-975ddc8ee51a)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='10.01px' style='font-size: 8.80px; fill: #4D4D4D; font-family: Arial;' y='270.27' x='315.09'>\n15\n</text>\n</g>\n<g clip-path='url(#e9ff2e8d-f9fb-40e6-b8c7-975ddc8ee51a)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='23.22px' style='font-size: 11.00px; font-family: Arial;' y='283.63' x='246.56'>\nNCY\n</text>\n</g>\n<g clip-path='url(#e9ff2e8d-f9fb-40e6-b8c7-975ddc8ee51a)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='113.73px' style='font-size: 11.00px; font-family: Arial;' transform='translate(13.35,198.26) rotate(-90)'>\n95% probability interval\n</text>\n</g>\n<g clip-path='url(#e9ff2e8d-f9fb-40e6-b8c7-975ddc8ee51a)'>\n<text lengthAdjust='spacingAndGlyphs' textLength='203.77px' style='font-size: 13.20px; font-family: Arial;' y='14.79' x='53.82'>\nJoiner probability by academic year\n</text>\n</g>\n</svg>\n","value":"#gg4clj.core.GGView{:plot-command [[:<- :foo [:data.frame {:upper1 [:c :NA :NA :NA 3.0549815890093864E-6 9.159098751131608E-4 0.005053891904131285 0.004954568611250631 0.002920501259737808 0.0019059703904383731 7.543598753646119E-4 0.0013389352478204689 9.334350841612672E-4 0.0012328795328033213 5.29871600584612E-4 4.088483877068593E-4 7.798612883773198E-4 5.106435200456916E-4 2.0227452718278623E-4 4.777821505045096E-6 :NA :NA :NA :NA :NA :NA :NA :NA :NA :NA :NA :NA], :lower3 [:c :NA :NA :NA 4.031188866643772E-4 0.003632453164403293 0.006699467338441856 0.007794007633289042 0.006483419474316782 0.005854326433704638 0.0032844587132898036 0.002630436693329221 0.002632868887301077 0.002022050574854237 0.0030073199400389365 0.002240611235675857 0.0030788727617961625 0.002751528874426821 0.002748650061540749 0.001130338748125795 9.329866899355494E-4 4.2543484723146075E-4 :NA :NA 4.657287637553945E-4 2.518205225851343E-4 :NA :NA :NA :NA :NA :NA], :lower4 [:c :NA :NA :NA 4.0422324056944966E-4 0.002051076239426297 0.005215667925783323 0.007731088509073389 0.00436162749977324 0.003491871336257542 0.00443713936812557 0.0022403994640260304 0.0036544088616306983 0.0028851249384219354 0.0036801734229110956 0.0011946346150192915 0.00335965907811383 0.004188779064012436 0.0022483268438300914 0.0029834143772566597 0.0011040673251551346 0.0011543562651480169 3.902403285892841E-4 8.667690909244139E-4 6.23322207680572E-4 4.039681009319065E-4 2.2639712198744836E-4 :NA :NA :NA :NA :NA], :year [:c -5 -4 -3 -2 -1 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25], :upper4 [:c :NA :NA :NA 2.774738288854775E-6 6.128701568686787E-4 0.0025978436158299316 0.004411042949067498 0.0019115611434006635 0.0013323278429245946 0.00190817104264539 5.853966708854081E-4 0.0013076525601500482 8.623401017340586E-4 0.0013168827493158944 1.0235582191822238E-4 0.0010596376037923971 0.001499123572380006 4.849503090041735E-4 8.917486652976612E-4 1.373137461599887E-4 1.8307632807825814E-4 2.678737658787769E-6 1.0779000707776651E-4 5.3392425272746136E-5 1.7564350713876373E-5 1.5540012355065393E-6 :NA :NA :NA :NA :NA], :lower1 [:c :NA :NA :NA 4.450415923030879E-4 0.002771053566874001 0.008805413634108193 0.00873300097467667 0.0060001212624096 0.0046228231457929704 0.0026850045286927232 0.0037417275184545027 0.003122726383937543 0.0037288346443878446 0.0024563898876244668 0.0021646765158271804 0.002983822764681425 0.002367334096080535 0.0016260127714431984 6.959040860364985E-4 :NA :NA :NA :NA :NA :NA :NA :NA :NA :NA :NA :NA], :upper2 [:c :NA :NA :NA :NA 0.0012953081502524375 0.003513820991267567 0.005196917109990634 0.003261999309066509 0.0027750489925589985 0.002135778091415536 0.0020205698871932124 0.0013109195393876461 0.0010364349735486448 0.002006983920905845 4.088483877068593E-4 6.226232540927569E-4 7.535857657083675E-4 2.812784216239715E-4 1.8341623119557917E-4 3.466758780657458E-5 2.9463624201202064E-5 :NA :NA :NA :NA 1.563888319633616E-6 :NA :NA :NA :NA :NA], :lower2 [:c :NA :NA :NA :NA 0.0033015859102359544 0.0066535629008675785 0.00895621593030812 0.006410278637229448 0.005773491245921376 0.0049656511236403 0.004794508219960353 0.0036635281739008014 0.0032861760488094678 0.004983640033528276 0.0021646765158271804 0.0025974101791177914 0.0028833957128305025 0.0017730907193543705 0.0014745111954858477 7.971692627263524E-4 6.775446418011488E-4 :NA :NA :NA :NA 2.2783737213855431E-4 :NA :NA :NA :NA :NA], :upper3 [:c :NA :NA :NA 2.7671565079427153E-6 0.001530323655489856 0.003651539222432202 0.004366744523460235 0.0033636091940782284 0.0028835535294616152 0.0011751337502021101 7.390144466085322E-4 7.39698413076638E-4 4.3610500895343944E-4 8.989015598660532E-4 4.832847788881054E-4 8.651412648042715E-4 7.190865228076999E-4 7.183334265215718E-4 9.684439979737859E-5 7.9928604914164E-5 2.920367496456761E-6 :NA :NA 2.0250656870424083E-5 1.728524784353004E-6 :NA :NA :NA :NA :NA :NA]}]] [:+ [:+ [:+ [:+ [:+ [:+ [:+ [:+ [:+ [:+ [:+ [:ggplot :foo [:aes :year :upper1]] [:geom_ribbon [:aes {:ymax :upper1, :ymin :lower1}] {:fill \"#1b9e77\", :alpha 0.2}]] [:geom_ribbon [:aes {:ymax :upper2, :ymin :lower2}] {:fill \"#d95f02\", :alpha 0.2}]] [:geom_ribbon [:aes {:ymax :upper3, :ymin :lower3}] {:fill \"#7570b3\", :alpha 0.2}]] [:geom_ribbon [:aes {:ymax :upper4, :ymin :lower4}] {:fill \"#e7298a\", :alpha 0.2}]] [:ggtitle \"Joiner probability by academic year\"]] [:xlab \"NCY\"]] [:ylab \"95% probability interval\"]] [:scale_x_continuous {:breaks [:seq -5 15 {:by 2}]}]] [:scale_fill_manual {:name \"Years\", :values [:c \"red\" \"yellow\" \"grey\" \"blue\"], :labels [:c \"2013\" \"2014\" \"2015\" \"2016\"]}]] [:scale_colour_manual \"\" {:values \"blue\"}]] [:theme]]], :options {}}"}
;; <=

;; @@

;; @@
